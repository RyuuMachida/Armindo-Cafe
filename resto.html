<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Armindo Cafe - Pemesanan Online</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
        user-select: none;
      }

      html {
        scrollbar-width: none;
        /* Firefox */
        -ms-overflow-style: none;
        /* IE and Edge */
      }

      html::-webkit-scrollbar {
        display: none;
        /* Chrome, Safari, Opera */
      }

      body {
        scrollbar-width: none;
        -ms-overflow-style: none;
      }

      body::-webkit-scrollbar {
        display: none;
      }

      /* Hide scrollbars untuk semua element */
      * {
        scrollbar-width: none;
        -ms-overflow-style: none;
      }

      *::-webkit-scrollbar {
        display: none;
      }

      :root {
        --primary-color: #2c3e50;
        --secondary-color: #34495e;
        --accent-color: #e74c3c;
        --success-color: #27ae60;
        --warning-color: #f39c12;
        --light-bg: #ecf0f1;
        --dark-bg: #1a1a1a;
        --text-light: #2c3e50;
        --text-dark: #ecf0f1;
        --card-bg-light: #ffffff;
        --card-bg-dark: #2c2c2c;
      }

      [data-theme="dark"] {
        --primary-color: #1a1a1a;
        --secondary-color: #2c2c2c;
        --light-bg: #121212;
        --text-light: #ecf0f1;
        --card-bg-light: #2c2c2c;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background-color: var(--light-bg);
        color: var(--text-light);
        transition: all 0.3s ease;
      }

      /* Sidebar */
      .sidebar {
        position: fixed;
        left: -250px;
        top: 0;
        width: 250px;
        height: 100vh;
        background: var(--primary-color);
        transition: left 0.3s ease;
        z-index: 1000;
        overflow-y: auto;
      }

      .sidebar.active {
        left: 0;
      }

      .sidebar-header {
        padding: 20px;
        text-align: center;
        border-bottom: 1px solid var(--secondary-color);
      }

      .sidebar-header img {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        margin-bottom: 10px;
        margin-left: -9px;
      }

      .sidebar-header h3 {
        color: white;
        font-size: 18px;
      }

      .sidebar-menu {
        padding: 20px 0;
      }

      .menu-item {
        display: block;
        padding: 15px 20px;
        color: #bdc3c7;
        text-decoration: none;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .menu-item:hover,
      .menu-item.active {
        background: var(--secondary-color);
        color: white;
        padding-left: 30px;
      }

      .menu-item i {
        margin-right: 10px;
        width: 20px;
      }

      /* Navbar */
      .navbar {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: 60px;
        background: var(--card-bg-light);
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        display: flex;
        align-items: center;
        padding: 0 20px;
        z-index: 999;
        transition: all 0.3s ease;
      }

      .hamburger {
        font-size: 20px;
        cursor: pointer;
        color: var(--text-light);
        margin-right: 20px;
      }

      .page-title {
        flex: 1;
        font-size: 18px;
        font-weight: 600;
        color: var(--text-light);
      }

      .navbar-right {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .theme-toggle {
        background: none;
        border: none;
        font-size: 18px;
        cursor: pointer;
        color: var(--text-light);
        padding: 8px;
        border-radius: 50%;
        transition: all 0.3s ease;
      }

      .theme-toggle:hover {
        background: var(--light-bg);
      }

      .notification-btn {
        position: relative;
        background: none;
        border: none;
        font-size: 18px;
        cursor: pointer;
        color: var(--text-light);
        padding: 8px;
        border-radius: 50%;
        transition: all 0.3s ease;
      }

      .notification-btn:hover {
        background: var(--light-bg);
      }

      .notification-badge {
        position: absolute;
        top: 0;
        right: 0;
        background: var(--accent-color);
        color: white;
        border-radius: 50%;
        width: 18px;
        height: 18px;
        font-size: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .user-menu {
        display: flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
        padding: 8px 12px;
        border-radius: 20px;
        transition: all 0.3s ease;
      }

      .user-menu:hover {
        background: var(--light-bg);
      }

      .user-avatar {
        width: 32px;
        height: 32px;
        border-radius: 50%;
        background: var(--accent-color);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 14px;
      }

      /* Main Content */
      .main-content {
        margin-top: 60px;
        padding: 20px;
        transition: all 0.3s ease;
      }

      .overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 999;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }

      .overlay.active {
        opacity: 1;
        visibility: visible;
      }

      /* Dashboard Cards */
      .dashboard-stats {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .stat-card {
        background: var(--card-bg-light);
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        display: flex;
        align-items: center;
        gap: 15px;
        transition: all 0.3s ease;
      }

      .stat-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
      }

      .stat-icon {
        width: 60px;
        height: 60px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        color: white;
      }

      .stat-icon.visitors {
        background: var(--primary-color);
      }

      .stat-icon.customers {
        background: var(--success-color);
      }

      .stat-icon.profit {
        background: var(--warning-color);
      }

      .stat-icon.transactions {
        background: var(--accent-color);
      }

      .stat-info h3 {
        font-size: 24px;
        margin-bottom: 5px;
        color: var(--text-light);
      }

      .stat-info p {
        color: #7f8c8d;
        font-size: 14px;
      }

      /* Menu Grid */
      .menu-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
        gap: 20px;
        margin-bottom: 30px;
      }

      .menu-card {
        background: var(--card-bg-light);
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        height: 100%;
        display: flex;
        flex-direction: column;
      }

      .menu-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      }

      .menu-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 15px 15px 0 0;
      }

      @media (min-width: 769px) {
        .menu-grid:only-child {
          grid-template-columns: repeat(auto-fill, minmax(280px, 350px));
        }
      }

      .menu-content {
        padding: 20px;
      }

      .menu-title {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 8px;
        color: var(--text-light);
      }

      .menu-description {
        color: #7f8c8d;
        font-size: 14px;
        margin-bottom: 15px;
        line-height: 1.4;
      }

      .menu-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .menu-price {
        font-size: 18px;
        font-weight: 700;
        color: var(--accent-color);
      }

      .menu-price.discounted {
        text-decoration: line-through;
        color: #7f8c8d;
        font-size: 14px;
      }

      .discount-price {
        font-size: 18px;
        font-weight: 700;
        color: var(--success-color);
      }

      .add-to-cart {
        background: var(--accent-color);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
        transition: all 0.3s ease;
      }

      .add-to-cart:hover {
        background: #c0392b;
        transform: translateY(-2px);
      }

      .quantity-control {
        display: flex;
        align-items: center;
        gap: 10px;
        margin-top: 10px;
      }

      .quantity-btn {
        background: var(--primary-color);
        color: white;
        border: none;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        cursor: pointer;
        font-size: 16px;
        transition: all 0.3s ease;
      }

      .quantity-btn:hover {
        background: var(--secondary-color);
      }

      .quantity-display {
        font-weight: 600;
        min-width: 30px;
        text-align: center;
      }

      /* Cart */
      .cart-sidebar {
        position: fixed;
        right: -400px;
        top: 0;
        width: 400px;
        height: 100vh;
        background: var(--card-bg-light);
        box-shadow: -2px 0 10px rgba(0, 0, 0, 0.1);
        z-index: 1001;
        transition: right 0.3s ease;
        overflow-y: auto;
      }

      .cart-sidebar.active {
        right: 0;
      }

      .cart-header {
        padding: 20px;
        border-bottom: 1px solid #eee;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .cart-close {
        background: none;
        border: none;
        font-size: 20px;
        cursor: pointer;
        color: var(--text-light);
      }

      .cart-items {
        padding: 20px;
      }

      .cart-item {
        display: flex;
        gap: 15px;
        padding: 15px 0;
        border-bottom: 1px solid #eee;
      }

      .cart-item-image {
        width: 60px;
        height: 60px;
        border-radius: 8px;
        object-fit: cover;
      }

      .cart-item-info {
        flex: 1;
      }

      .cart-item-name {
        font-weight: 600;
        margin-bottom: 5px;
        color: var(--text-light);
      }

      .cart-item-price {
        color: var(--accent-color);
        font-weight: 600;
      }

      .cart-total {
        padding: 20px;
        border-top: 2px solid var(--accent-color);
        background: var(--light-bg);
      }

      .total-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
      }

      .total-row.final {
        font-size: 18px;
        font-weight: 700;
        color: var(--accent-color);
        border-top: 1px solid #ddd;
        padding-top: 10px;
      }

      .checkout-btn {
        width: 100%;
        background: var(--success-color);
        color: white;
        border: none;
        padding: 15px;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        margin-top: 15px;
        transition: all 0.3s ease;
      }

      .checkout-btn:hover {
        background: #219a52;
      }

      /* Auth Modal */
      .auth-modal {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2000;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
      }

      .auth-modal.active {
        opacity: 1;
        visibility: visible;
      }

      .auth-form {
        background: var(--card-bg-light);
        padding: 40px;
        border-radius: 15px;
        max-width: 400px;
        width: 90%;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      }

      .auth-form h2 {
        text-align: center;
        margin-bottom: 30px;
        color: var(--text-light);
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        color: var(--text-light);
        font-weight: 500;
      }

      .form-group input {
        width: 100%;
        padding: 12px;
        border: 2px solid #ddd;
        border-radius: 8px;
        font-size: 16px;
        transition: border-color 0.3s ease;
        background: var(--card-bg-light);
        color: var(--text-light);
      }

      .form-group input:focus {
        border-color: var(--accent-color);
        outline: none;
      }

      .auth-btn {
        width: 100%;
        background: var(--accent-color);
        color: white;
        border: none;
        padding: 15px;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .auth-btn:hover {
        background: #c0392b;
      }

      .auth-switch {
        text-align: center;
        margin-top: 20px;
        color: var(--text-light);
      }

      .auth-switch a {
        color: var(--accent-color);
        text-decoration: none;
        font-weight: 600;
      }

      .auth-close {
        position: absolute;
        top: 15px;
        right: 20px;
        background: none;
        border: none;
        font-size: 24px;
        cursor: pointer;
        color: var(--text-light);
      }

      /* Notifications */
      .notification-popup {
        position: fixed;
        top: 80px;
        right: 20px;
        background: var(--card-bg-light);
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        z-index: 2000;
        max-width: 300px;
        transform: translateX(350px);
        transition: transform 0.3s ease;
      }

      .notification-popup.show {
        transform: translateX(0);
      }

      .notification-popup.success {
        border-left: 4px solid var(--success-color);
      }

      .notification-popup.discount {
        border-left: 4px solid var(--warning-color);
      }

      /* Admin Section */
      .admin-section {
        background: var(--card-bg-light);
        border-radius: 15px;
        padding: 25px;
        margin-bottom: 30px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .admin-section h3 {
        margin-bottom: 20px;
        color: var(--text-light);
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .admin-controls {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 20px;
      }

      .control-group {
        display: flex;
        flex-direction: column;
        gap: 8px;
      }

      .control-group label {
        font-weight: 600;
        color: var(--text-light);
      }

      .control-group input,
      .control-group select,
      .control-group textarea {
        padding: 10px;
        border: 2px solid #ddd;
        border-radius: 6px;
        font-size: 14px;
        background: var(--card-bg-light);
        color: var(--text-light);
      }

      .control-group input:focus,
      .control-group select:focus,
      .control-group textarea:focus {
        border-color: var(--accent-color);
        outline: none;
      }

      @media (min-width: 768px) {
        .admin-btn.success {
          background: var(--success-color);
          margin-top: -8px;
        }
      }

      /* Original button styles */
      .admin-btn {
        background: var(--primary-color);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 14px;
        transition: all 0.3s ease;
        /* Tambahan untuk alignment */
        height: 42px;
        /* samakan dengan height input */
        display: inline-flex;
        align-items: center;
        justify-content: center;
        vertical-align: top;
      }

      .admin-btn:hover {
        background: var(--secondary-color);
      }

      .admin-btn.danger {
        background: var(--accent-color);
      }

      .admin-btn.danger:hover {
        background: #c0392b;
      }

      .admin-btn.success {
        background: var(--success-color);
      }

      .admin-btn.success:hover {
        background: #219a52;
      }

      /* Untuk membuat button sejajar dengan input secara horizontal */
      .control-group.inline {
        display: flex;
        align-items: flex-end;
        /* align ke baseline label */
        gap: 15px;
        flex-wrap: wrap;
      }

      .control-group.inline > div {
        flex: 1;
        min-width: 200px;
      }

      .control-group.inline .admin-btn {
        margin-top: 24px;
        /* offset untuk posisi label */
        flex-shrink: 0;
      }

      /* Khusus untuk desktop - layout yang lebih rapi */
      @media (min-width: 768px) {
        /* Untuk input dan button dalam satu baris */
        .control-group.with-button {
          display: flex;
          align-items: flex-end;
          gap: 10px;
        }

        .control-group.with-button > div:first-child {
          flex: 1;
        }

        .control-group.with-button .admin-btn {
          margin-top: 0;
          align-self: flex-end;
        }

        /* Untuk button yang standalone tapi mau disejajarkan */
        .control-group:has(.admin-btn) {
          margin-top: 0;
        }

        /* Specific untuk section diskon global - buat inline */
        .admin-section:nth-child(2) .admin-controls {
          display: flex;
          align-items: flex-end;
          gap: 15px;
          flex-wrap: wrap;
        }

        .admin-section:nth-child(2) .control-group {
          margin-bottom: 0;
        }

        .admin-section:nth-child(2) .control-group:first-child {
          flex: 1;
          min-width: 200px;
        }

        /* Remove br tag effect */
        .admin-section br {
          display: none;
        }
      }

      /* Pastikan input punya height yang konsisten */
      input[type="text"],
      input[type="number"],
      input[type="url"],
      select,
      textarea {
        height: 42px;
        padding: 8px 12px;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 14px;
      }

      textarea {
        height: auto;
        min-height: 42px;
        resize: vertical;
      }

      /* Label styling untuk konsistensi */
      label {
        display: block;
        margin-bottom: 5px;
        font-weight: 500;
        color: var(--text-color);
      }

      /* Recent Orders */
      .recent-orders {
        background: var(--card-bg-light);
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .recent-orders h3 {
        margin-bottom: 20px;
        color: var(--text-light);
      }

      .order-item {
        display: flex;
        align-items: center;
        gap: 15px;
        padding: 15px 0;
        border-bottom: 1px solid #eee;
      }

      .order-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: var(--accent-color);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 600;
      }

      .order-info {
        flex: 1;
      }

      .order-name {
        font-weight: 600;
        margin-bottom: 4px;
        color: var(--text-light);
      }

      .order-time {
        color: #7f8c8d;
        font-size: 12px;
      }

      .order-amount {
        font-weight: 600;
        color: var(--success-color);
      }

      /* Responsive */
      @media (max-width: 768px) {
        .dashboard-stats {
          grid-template-columns: repeat(2, 1fr);
        }

        .menu-grid {
          grid-template-columns: 1fr;
        }

        .cart-sidebar {
          width: 100%;
          right: -100%;
        }

        .admin-controls {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 480px) {
        .dashboard-stats {
          grid-template-columns: 1fr;
        }

        .navbar {
          padding: 0 10px;
        }

        .main-content {
          padding: 15px;
        }

        .stat-card {
          padding: 15px;
        }
      }

      /* Hide sections by default */
      .content-section {
        display: none;
      }

      .content-section.active {
        display: block;
      }

      /* Loading Animation */
      .loading {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 200px;
      }

      .spinner {
        width: 40px;
        height: 40px;
        border: 4px solid #f3f3f3;
        border-top: 4px solid var(--accent-color);
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }

        100% {
          transform: rotate(360deg);
        }
      }

      /* Discount Badge */
      .discount-badge {
        position: absolute;
        top: 10px;
        right: 10px;
        background: var(--accent-color);
        color: white;
        padding: 5px 10px;
        border-radius: 15px;
        font-size: 12px;
        font-weight: 600;
      }

      .menu-card {
        position: relative;
      }

      /* Desktop sidebar behavior */
      @media (min-width: 769px) {
        .sidebar {
          position: fixed;
          left: 0;
          top: 0;
          width: 250px;
          height: 100vh;
          background: var(--primary-color);
          transition: width 0.3s ease;
          z-index: 1000;
          overflow-y: auto;
        }

        .sidebar.collapsed {
          width: 70px;
        }

        .main-content {
          margin-left: 250px;
          transition: margin-left 0.3s ease;
        }

        .main-content.collapsed {
          margin-left: 70px;
        }

        .navbar {
          left: 250px;
          transition: left 0.3s ease;
        }

        .navbar.collapsed {
          left: 70px;
        }

        /* Hide overlay on desktop */
        .overlay {
          display: none;
        }

        /* Collapsed sidebar styles */
        .sidebar.collapsed .sidebar-header h3 {
          display: none;
        }

        .sidebar.collapsed .menu-item span {
          display: none;
        }

        .sidebar.collapsed .menu-item {
          text-align: center;
          padding: 15px 0;
          position: relative;
        }

        .sidebar.collapsed .menu-item i {
          margin-right: 0;
          font-size: 18px;
        }

        /* Tooltip for collapsed menu */
        .sidebar.collapsed .menu-item:hover::after {
          content: attr(data-tooltip);
          position: absolute;
          left: 70px;
          top: 50%;
          transform: translateY(-50%);
          background: var(--primary-color);
          color: white;
          padding: 8px 12px;
          border-radius: 6px;
          white-space: nowrap;
          z-index: 1001;
          box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }
      }

      /* Mobile behavior remains the same */
      @media (max-width: 768px) {
        .sidebar {
          position: fixed;
          left: -250px;
          top: 0;
          width: 250px;
          height: 100vh;
          background: var(--primary-color);
          transition: left 0.3s ease;
          z-index: 1000;
          overflow-y: auto;
        }

        .sidebar.active {
          left: 0;
        }

        .main-content {
          margin-left: 0;
        }

        .navbar {
          left: 0;
        }

        .overlay.active {
          opacity: 1;
          visibility: visible;
        }
      }

      @media (max-width: 768px) {
        .dashboard-stats {
          grid-template-columns: repeat(2, 1fr);
        }

        .menu-grid {
          grid-template-columns: 1fr;
        }

        .cart-sidebar {
          width: 100%;
          right: -100%;
        }

        .admin-controls {
          grid-template-columns: 1fr;
        }

        .main-content {
          margin-left: 0 !important;
        }

        .navbar {
          left: 0 !important;
        }
      }

      .admin-only {
        display: none;
      }

      body.admin-mode .admin-only {
        display: block;
      }

      body.guest-mode .content-section {
        display: none;
      }

      body.guest-mode .content-section#home-section,
      body.guest-mode .content-section#menu-section {
        display: block;
      }

      .menu-item.disabled {
        color: #7f8c8d;
        cursor: not-allowed;
        opacity: 0.5;
      }

      .menu-item.disabled:hover {
        background: transparent;
        padding-left: 20px;
      }

      /* Hero Section Styles */
      .hero-section {
        min-height: 80vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(
          135deg,
          var(--primary-color) 0%,
          var(--secondary-color) 100%
        );
        color: white;
        position: relative;
        overflow: hidden;
      }

      .hero-section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 100" preserveAspectRatio="none"><polygon fill="rgba(255,255,255,0.1)" points="1000,0 1000,100 0,100"/></svg>')
          no-repeat;
        background-size: cover;
      }

      .hero-content {
        text-align: center;
        z-index: 2;
        position: relative;
        max-width: 800px;
        padding: 0 20px;
      }

      .hero-text {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 30px;
        flex-wrap: wrap;
      }

      .hero-logo {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        border: 4px solid white;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        transition: transform 0.3s ease;
      }

      .hero-logo:hover {
        transform: scale(1.1);
      }

      .hero-welcome h1 {
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 15px;
        text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      }

      .hero-welcome p {
        font-size: 1.5rem;
        font-weight: 300;
        opacity: 0.9;
      }

      /* CTA Section Styles */
      .cta-section {
        min-height: 50vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: var(--light-bg);
        position: relative;
        padding: 80px 20px;
      }

      .cta-content {
        text-align: center;
        max-width: 600px;
      }

      .cta-content h2 {
        font-size: 2.5rem;
        font-weight: 600;
        color: var(--text-light);
        margin-bottom: 15px;
      }

      .cta-content p {
        font-size: 1.2rem;
        color: #7f8c8d;
        margin-bottom: 40px;
      }

      .cta-button {
        background: linear-gradient(45deg, var(--accent-color), #c0392b);
        color: white;
        border: none;
        padding: 18px 40px;
        font-size: 1.1rem;
        font-weight: 600;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 0 8px 25px rgba(231, 76, 60, 0.3);
        display: inline-flex;
        align-items: center;
        gap: 12px;
      }

      .cta-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 12px 35px rgba(231, 76, 60, 0.4);
        background: linear-gradient(45deg, #c0392b, var(--accent-color));
      }

      .cta-button i {
        font-size: 1.2rem;
      }

      /* Responsive Design untuk Home Section */
      @media (max-width: 768px) {
        .hero-section {
          min-height: 70vh;
          padding: 40px 20px;
        }

        .hero-text {
          flex-direction: column;
          gap: 20px;
        }

        .hero-logo {
          width: 80px;
          height: 80px;
        }

        .hero-welcome h1 {
          font-size: 2rem;
        }

        .hero-welcome p {
          font-size: 1.2rem;
        }

        .cta-section {
          min-height: 40vh;
          padding: 60px 20px;
        }

        .cta-content h2 {
          font-size: 1.8rem;
        }

        .cta-content p {
          font-size: 1rem;
        }

        .cta-button {
          padding: 15px 30px;
          font-size: 1rem;
        }
      }

      @media (max-width: 480px) {
        .hero-welcome h1 {
          font-size: 1.5rem;
        }

        .hero-welcome p {
          font-size: 1rem;
        }

        .cta-content h2 {
          font-size: 1.5rem;
        }
      }

      :root {
        --primary-color: #2c3e50;
        --secondary-color: #34495e;
        --accent-color: #e74c3c;
        --success-color: #27ae60;
        --warning-color: #f39c12;
        --light-bg: #ecf0f1;
        --text-light: #2c3e50;
        --card-bg-light: #ffffff;
      }

      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        background-color: var(--light-bg);
        color: var(--text-light);
      }

      .content-section {
        padding: 20px;
      }

      .resto-header {
        background: var(--card-bg-light);
        border-radius: 15px;
        padding: 25px;
        margin-bottom: 30px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        text-align: center;
      }

      .resto-header h2 {
        color: var(--text-light);
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        font-size: 24px;
      }

      .resto-header p {
        color: #7f8c8d;
        font-size: 16px;
      }

      .info-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 30px;
      }

      .info-card {
        background: var(--card-bg-light);
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
      }

      .info-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      }

      .info-card h3 {
        color: var(--text-light);
        margin-bottom: 20px;
        font-size: 18px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .info-card h3 i {
        color: var(--accent-color);
        font-size: 20px;
      }

      .alamat-text {
        color: #7f8c8d;
        line-height: 1.6;
        margin-bottom: 20px;
        font-size: 14px;
      }

      .contact-item {
        display: flex;
        align-items: center;
        gap: 12px;
        margin-bottom: 12px;
        color: var(--text-light);
        font-size: 14px;
      }

      .contact-item i {
        color: var(--accent-color);
        font-size: 16px;
        width: 20px;
        text-align: center;
      }

      .map-button {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        background: var(--primary-color);
        color: white;
        text-decoration: none;
        padding: 12px 20px;
        border-radius: 6px;
        font-size: 14px;
        transition: all 0.3s ease;
        margin-top: 15px;
      }

      .map-button:hover {
        background: var(--secondary-color);
      }

      .social-media {
        display: flex;
        gap: 12px;
        margin-top: 20px;
      }

      .social-link {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        color: white;
        text-decoration: none;
        transition: all 0.3s ease;
        font-size: 18px;
      }

      .social-link:hover {
        transform: translateY(-2px);
      }

      .whatsapp {
        background: #25d366;
      }

      .instagram {
        background: #e1306c;
      }

      .tiktok {
        background: #000000;
      }

      .map-section {
        grid-column: 1 / -1;
        background: var(--card-bg-light);
        border-radius: 15px;
        padding: 25px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .map-section h3 {
        color: var(--text-light);
        margin-bottom: 20px;
        font-size: 18px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .map-section h3 i {
        color: var(--accent-color);
        font-size: 20px;
      }

      .map-container {
        border-radius: 10px;
        overflow: hidden;
        height: 300px;
      }

      .map-container iframe {
        width: 100%;
        height: 100%;
        border: none;
      }

      @media (max-width: 768px) {
        .info-grid {
          grid-template-columns: 1fr;
        }

        .content-section {
          padding: 15px;
        }

        .resto-header {
          padding: 20px;
        }

        .info-card {
          padding: 20px;
        }

        .map-container {
          height: 250px;
        }
      }

      .menu-controls {
        background: var(--card-bg-light);
        border-radius: 15px;
        padding: 20px;
        margin-bottom: 20px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      .search-container {
        position: relative;
        margin-bottom: 15px;
      }

      .search-input {
        width: 100%;
        padding: 12px 45px 12px 100px;
        text-indent: 23px;
        /*kekanan in inputnya*/
        border: 2px solid #ddd;
        border-radius: 25px;
        font-size: 16px;
        background: var(--light-bg);
        color: var(--text-light);
        transition: all 0.3s ease;
      }

      .search-input:focus {
        border-color: var(--accent-color);
        outline: none;
        box-shadow: 0 0 0 3px rgba(231, 76, 60, 0.1);
      }

      .search-icon {
        position: absolute;
        left: 16px;
        top: 50%;
        transform: translateY(-50%);
        color: #7f8c8d;
        font-size: 16px;
        pointer-events: none;
      }

      .clear-search {
        position: absolute;
        right: 10px;
        top: 50%;
        transform: translateY(-50%);
        background: none;
        border: none;
        color: #7f8c8d;
        cursor: pointer;
        padding: 5px;
        border-radius: 50%;
        transition: all 0.3s ease;
      }

      .clear-search:hover {
        background: var(--accent-color);
        color: white;
      }

      .filter-buttons {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }

      .filter-btn {
        background: var(--light-bg);
        border: 2px solid #ddd;
        color: var(--text-light);
        padding: 10px 20px;
        border-radius: 25px;
        cursor: pointer;
        font-size: 14px;
        font-weight: 500;
        transition: all 0.3s ease;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .filter-btn:hover {
        border-color: var(--accent-color);
        background: rgba(231, 76, 60, 0.1);
      }

      .filter-btn.active {
        background: var(--accent-color);
        border-color: var(--accent-color);
        color: white;
      }

      @media (max-width: 768px) {
        .filter-buttons {
          justify-content: center;
        }

        .filter-btn {
          flex: 1;
          justify-content: center;
          min-width: 80px;
        }
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      .stats-section {
        background: var(--primary-color);
        color: white;
        padding: 60px 0;
        position: relative;
        overflow: hidden;
      }

      .stats-section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 20"><defs><pattern id="grain" width="100" height="20" patternUnits="userSpaceOnUse"><circle cx="10" cy="10" r="1" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="20" fill="url(%23grain)"/></svg>')
          repeat;
        opacity: 0.3;
      }

      .stats-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 40px;
        position: relative;
        z-index: 2;
      }

      .stat-item {
        text-align: center;
        padding: 20px;
      }

      .stat-number {
        font-size: 3rem;
        font-weight: 700;
        color: var(--accent-color);
        margin-bottom: 10px;
        display: block;
      }

      .stat-label {
        font-size: 1.1rem;
        opacity: 0.9;
        font-weight: 500;
      }

      .featured-menu-section {
        padding: 80px 0;
        background: var(--light-bg);
      }

      .section-header {
        text-align: center;
        margin-bottom: 50px;
      }

      .section-header h2 {
        font-size: 2.5rem;
        color: var(--text-light);
        margin-bottom: 15px;
        font-weight: 600;
      }

      .section-header p {
        font-size: 1.1rem;
        color: #7f8c8d;
        max-width: 600px;
        margin: 0 auto;
      }

      .featured-menu-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 30px;
        margin-bottom: 50px;
      }

      .featured-menu-card {
        background: var(--card-bg-light);
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        transition: all 0.3s ease;
        position: relative;
      }

      .featured-menu-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(45deg, transparent, rgba(231, 76, 60, 0.1));
        opacity: 0;
        transition: opacity 0.3s ease;
      }

      .featured-menu-card:hover::before {
        opacity: 1;
      }

      .featured-menu-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
      }

      .featured-menu-image {
        width: 100%;
        height: 200px;
        object-fit: cover;
      }

      .featured-menu-content {
        padding: 25px;
        position: relative;
      }

      .featured-menu-badge {
        position: absolute;
        top: 15px;
        right: 15px;
        background: var(--success-color);
        color: white;
        padding: 5px 12px;
        border-radius: 15px;
        font-size: 12px;
        font-weight: 600;
      }

      .featured-cta {
        text-align: center;
      }

      .see-all-btn {
        background: linear-gradient(45deg, var(--accent-color), #c0392b);
        color: white;
        border: none;
        padding: 15px 30px;
        font-size: 1rem;
        font-weight: 600;
        border-radius: 50px;
        cursor: pointer;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 10px;
        box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
      }

      .see-all-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 8px 20px rgba(231, 76, 60, 0.4);
      }

      .testimonial-section {
        padding: 80px 0;
        background: var(--card-bg-light);
      }

      .testimonial-slider {
        max-width: 400px;
        max-height: 100;
        margin: 0 auto;
        position: relative;
      }

      .testimonial-card {
        background: var(--light-bg);
        border-radius: 20px;
        padding: 40px;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        opacity: 0;
        transform: translateX(50px);
        transition: all 0.5s ease;
      }

      .testimonial-card.active {
        opacity: 1;
        transform: translateX(0);
      }

      .stars {
        margin-bottom: 20px;
      }

      .stars i {
        color: #f39c12;
        font-size: 20px;
        margin: 0 2px;
      }

      .testimonial-content p {
        font-size: 1.2rem;
        line-height: 1.6;
        color: var(--text-light);
        margin-bottom: 30px;
        font-style: italic;
      }

      .testimonial-author {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 15px;
      }

      .author-avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: var(--accent-color);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 600;
        font-size: 18px;
      }

      .author-name {
        font-weight: 600;
        color: var(--text-light);
        margin-bottom: 5px;
      }

      .author-role {
        color: #7f8c8d;
        font-size: 14px;
      }

      @media (max-width: 768px) {
        .stats-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 30px;
        }

        .stat-number {
          font-size: 2.5rem;
        }

        .section-header h2 {
          font-size: 2rem;
        }

        .featured-menu-grid {
          grid-template-columns: 1fr;
        }

        .testimonial-card {
          padding: 30px 20px;
        }
      }

      .testimonial-slider {
        display: flex;
        gap: 20px;
        overflow-x: auto;
        padding: 20px 0;
        scroll-snap-type: x mandatory;
        max-width: 100%;
        margin: 0 auto;
      }

      .testimonial-card {
        min-width: 300px;
        scroll-snap-align: start;
        background: var(--light-bg);
        border-radius: 20px;
        padding: 40px;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      }

      /* Hide scrollbar but keep functionality */
      .testimonial-slider::-webkit-scrollbar {
        display: none;
      }

      .testimonial-slider {
        -ms-overflow-style: none;
        scrollbar-width: none;
      }

      /* Payment Method Styles */
      .payment-methods {
        display: flex;
        flex-direction: column;
        gap: 15px;
      }

      .payment-option {
        display: flex;
        align-items: center;
        gap: 15px;
        padding: 15px;
        border: 2px solid #ddd;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s ease;
        background: var(--card-bg-light);
      }

      .payment-option:hover {
        border-color: var(--accent-color);
        background: rgba(231, 76, 60, 0.1);
        transform: translateY(-2px);
      }

      .payment-icon {
        width: 50px;
        height: 50px;
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        color: white;
        background: var(--primary-color);
      }

      .payment-option:hover .payment-icon {
        background: var(--accent-color);
      }

      .payment-info {
        flex: 1;
      }

      .payment-name {
        font-weight: 600;
        font-size: 16px;
        color: var(--text-light);
        margin-bottom: 5px;
      }

      .payment-desc {
        color: #7f8c8d;
        font-size: 14px;
      }

      .payment-option i:last-child {
        color: #bdc3c7;
        font-size: 16px;
      }

      .payment-option:hover i:last-child {
        color: var(--accent-color);
      }

      /* QRIS, DANA, Cash Container Styles */
      .qris-container,
      .dana-container,
      .cash-container {
        max-width: 100%;
      }

      /* Receipt Styles */
      .receipt-container {
        font-family: "Courier New", monospace;
        color: var(--text-light);
      }

      .receipt-item {
        display: flex;
        justify-content: space-between;
        padding: 5px 0;
        border-bottom: 1px dotted #ddd;
      }

      .receipt-item:last-child {
        border-bottom: none;
        font-weight: bold;
        border-top: 2px dashed #ddd;
        padding-top: 10px;
        margin-top: 10px;
      }

      .receipt-total {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        font-weight: bold;
        border-bottom: 1px solid #ddd;
      }

      .receipt-total.final {
        border-top: 2px solid #ddd;
        border-bottom: none;
        margin-top: 10px;
        padding-top: 15px;
        font-size: 18px;
        color: var(--accent-color);
      }

      /* Payment Status */
      .payment-status {
        text-align: center;
        padding: 20px;
        margin: 20px 0;
        border-radius: 10px;
        border: 2px solid;
      }

      .payment-status.pending {
        background: rgba(243, 156, 18, 0.1);
        border-color: var(--warning-color);
        color: var(--warning-color);
      }

      .payment-status.completed {
        background: rgba(39, 174, 96, 0.1);
        border-color: var(--success-color);
        color: var(--success-color);
      }

      .payment-status i {
        font-size: 24px;
        margin-bottom: 10px;
        display: block;
      }

      /* Responsive */
      @media (max-width: 480px) {
        .payment-option {
          padding: 12px;
          gap: 12px;
        }

        .payment-icon {
          width: 40px;
          height: 40px;
          font-size: 20px;
        }

        .payment-name {
          font-size: 15px;
        }

        .payment-desc {
          font-size: 13px;
        }
      }
      /* Button styling untuk pending orders */
      .pending-order-actions {
        display: flex;
        flex-direction: column;
        gap: 8px;
        min-width: 120px;
      }

      .pending-order-actions .admin-btn {
        width: 100%;
        padding: 8px 12px;
        font-size: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 6px;
        text-align: center;
        white-space: nowrap;
      }

      .pending-order-actions .admin-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        background: #bdc3c7;
      }

      .pending-order-actions .admin-btn:disabled:hover {
        background: #bdc3c7;
        transform: none;
      }

      .pending-order-actions .admin-btn i {
        font-size: 10px;
      }
    </style>
  </head>

  <body>
    <div class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <img src="imgweb/logowe.jpg" alt="Logo" />
        <h3>Armindo Cafe</h3>
      </div>
      <div class="sidebar-menu">
        <a
          href="#"
          class="menu-item active"
          data-section="home"
          data-tooltip="Beranda"
        >
          <i class="fas fa-home"></i>
          <span>Beranda</span>
        </a>
        <a
          href="#"
          class="menu-item"
          data-section="menu"
          data-tooltip="Menu Makanan"
        >
          <i class="fas fa-utensils"></i>
          <span>Menu Makanan</span>
        </a>
        <a
          href="#"
          class="menu-item"
          data-section="resto"
          data-tooltip="Info Resto"
        >
          <i class="fas fa-info-circle"></i>
          <span>Info Resto</span>
        </a>
        <a
          href="#"
          class="menu-item admin-only"
          data-section="dashboard"
          data-tooltip="Dashboard"
        >
          <i class="fas fa-tachometer-alt"></i>
          <span>Dashboard</span>
        </a>
        <a
          href="#"
          class="menu-item admin-only"
          data-section="orders"
          data-tooltip="Pesanan"
        >
          <i class="fas fa-shopping-cart"></i>
          <span>Pesanan</span>
        </a>
        <a
          href="#"
          class="menu-item admin-only"
          data-section="admin"
          data-tooltip="Admin Panel"
        >
          <i class="fas fa-cog"></i>
          <span>Admin Panel</span>
        </a>
        <a
          href="#"
          class="menu-item admin-only"
          data-section="customers"
          data-tooltip="Pelanggan"
        >
          <i class="fas fa-users"></i>
          <span>Pelanggan</span>
        </a>
        <a
          href="#"
          class="menu-item admin-only"
          data-section="reports"
          data-tooltip="Laporan"
        >
          <i class="fas fa-chart-bar"></i>
          <span>Laporan</span>
        </a>
        <a
          href="#"
          class="menu-item admin-only"
          data-section="settings"
          data-tooltip="Pengaturan"
        >
          <i class="fas fa-sliders-h"></i>
          <span>Pengaturan</span>
        </a>
      </div>
    </div>

    <div class="navbar">
      <div class="hamburger" id="hamburger">
        <i class="fas fa-bars"></i>
      </div>
      <div class="page-title" id="pageTitle">Dashboard</div>
      <div class="navbar-right">
        <button class="theme-toggle" id="themeToggle">
          <i class="fas fa-sun"></i>
        </button>
        <button class="notification-btn" id="notificationBtn">
          <i class="fas fa-bell"></i>
          <span class="notification-badge" id="notificationBadge">3</span>
        </button>
        <div class="user-menu" id="userMenu">
          <div class="user-avatar">
            <i class="fas fa-user"></i>
          </div>
          <span id="userName">Guest</span>
        </div>
      </div>
    </div>

    <div class="overlay" id="overlay"></div>

    <div class="main-content">
      <!-- Home/Landing Section -->
      <div class="content-section active" id="home-section">
        <div class="hero-section">
          <div class="hero-content">
            <div class="hero-text">
              <img
                src="imgweb/logowe.jpg"
                alt="Armindo Cafe Logo"
                class="hero-logo"
              />
              <div class="hero-welcome">
                <h1>Selamat Datang di Armindo Cafe</h1>
                <p>Ada yang bisa kami bantu?</p>
              </div>
            </div>
          </div>
        </div>

        <div class="cta-section">
          <div class="cta-content">
            <h2>Ingin Memesan?</h2>
            <p>Pesan sekarang!</p>
            <button class="cta-button" onclick="goToMenu()">
              <i class="fas fa-shopping-cart"></i>
              Lihat Menu
            </button>
          </div>
        </div>

        <div class="stats-section">
          <div class="container">
            <div class="stats-grid">
              <div class="stat-item">
                <div class="stat-number" data-target="50">0</div>
                <div class="stat-label">Menu Tersedia</div>
              </div>
              <div class="stat-item">
                <div class="stat-number" data-target="783">0</div>
                <div class="stat-label">Pelanggan Puas</div>
              </div>
              <div class="stat-item">
                <div class="stat-number" data-target="3">0</div>
                <div class="stat-label">Tahun Berpengalaman</div>
              </div>
              <div class="stat-item">
                <div class="stat-number" data-target="6">0</div>
                <div class="stat-label">Jam Buka</div>
              </div>
            </div>
          </div>
        </div>

        <div class="featured-menu-section">
          <div class="container">
            <div class="section-header">
              <h2>Menu Favorit Kami</h2>
              <p>Pilihan terbaik yang paling disukai pelanggan</p>
            </div>
            <div class="featured-menu-grid" id="featuredMenuGrid">
              <!-- diisi sama JavaScript -->
            </div>
            <div class="featured-cta">
              <button class="see-all-btn" onclick="goToMenu()">
                Lihat Semua Menu <i class="fas fa-arrow-right"></i>
              </button>
            </div>
          </div>
        </div>

        <div class="testimonial-section">
          <div class="container">
            <div class="section-header">
              <h2>Apa Kata Pelanggan Kami</h2>
              <p>
                Testimoni dari pelanggan yang sudah merasakan kelezatan menu
                kami
              </p>
            </div>
            <div class="testimonial-slider">
              <div class="testimonial-card active">
                <div class="testimonial-content">
                  <div class="stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                  </div>
                  <p>
                    "Makanannya enak banget, terutama rendang dagingnya. Bumbu
                    rempahnya berasa banget!"
                  </p>
                  <div class="testimonial-author">
                    <div class="author-avatar">S</div>
                    <div class="author-info">
                      <div class="author-name">Sari Dewi</div>
                      <div class="author-role">Pelanggan Setia</div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="testimonial-card active">
                <div class="testimonial-content">
                  <div class="stars">
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                    <i class="fas fa-star"></i>
                  </div>
                  <p>
                    "emang cucu ane bagus banget karirnye, lancar terus ye.
                    makanannye semua enak deh! 100%"
                  </p>
                  <div class="testimonial-author">
                    <div class="author-avatar">M</div>
                    <div class="author-info">
                      <div class="author-name">Mpok Ati</div>
                      <div class="author-role">tetangga owner</div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Bisa lu tambahin lagi, atau pake server (tapi railway gw abis)-->
            </div>
          </div>
        </div>
      </div>

      <div class="content-section active" id="resto-section">
        <div class="resto-header">
          <h2><i class="fas fa-info-circle"></i> Tentang Resto</h2>
          <p>Informasi lengkap mengenai lokasi dan kontak resto kami</p>
        </div>

        <div class="info-grid">
          <div class="info-card">
            <h3><i class="fas fa-map-marker-alt"></i> Alamat Lengkap</h3>
            <p class="alamat-text">
              Kami berlokasi strategis di Jl. Mangga Besar VIII No. 15A,
              Kelurahan Mangga Besar, Kecamatan Sawah Besar, Jakarta Barat
              11180. Resto kami mudah diakses dengan berbagai transportasi umum
              dan berada di pusat kuliner Jakarta yang ramai dikunjungi.
            </p>
            <a
              href="https://maps.google.com/?q=Jl.+Mangga+Besar+VIII+No.15A,+Mangga+Besar,+Sawah+Besar,+Jakarta+Barat"
              target="_blank"
              class="map-button"
            >
              <i class="fas fa-directions"></i> Buka di Google Maps
            </a>
          </div>

          <div class="info-card">
            <h3><i class="fas fa-phone"></i> Kontak & Sosial Media</h3>

            <div class="contact-item">
              <i class="fas fa-phone-alt"></i>
              <span>+62 838 1366 0206</span>
            </div>

            <div class="contact-item">
              <i class="fas fa-mobile-alt"></i>
              <span>+62 838 1366 0206</span>
            </div>

            <div class="social-media">
              <a
                href="https://wa.me/6283813660206"
                target="_blank"
                class="social-link whatsapp"
                title="WhatsApp"
              >
                <i class="fab fa-whatsapp"></i>
              </a>

              <a
                href="https://instagram.com/rilss_ear1"
                target="_blank"
                class="social-link instagram"
                title="Instagram"
              >
                <i class="fab fa-instagram"></i>
              </a>

              <a
                href="https://tiktok.com/@rilss_ear1"
                target="_blank"
                class="social-link tiktok"
                title="TikTok"
              >
                <i class="fab fa-tiktok"></i>
              </a>
            </div>
          </div>

          <div class="map-section">
            <h3><i class="fas fa-map"></i> Lokasi di Peta</h3>
            <div class="map-container">
              <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3966.9876543210123!2d106.8349!3d-6.1599!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2e69f5d2e764b12d%3A0x3d2d75f6c3a8b9c7!2sSawah%20Besar%2C%20Central%20Jakarta%20City%2C%20Jakarta!5e0!3m2!1sen!2sid!4v1694168234567!5m2!1sen!2sid"
                allowfullscreen=""
                loading="lazy"
                referrerpolicy="no-referrer-when-downgrade"
                title="Lokasi Resto di Sawah Besar Jakarta"
              >
              </iframe>
            </div>
          </div>
        </div>
      </div>

      <div class="content-section active" id="dashboard-section">
        <div class="dashboard-stats">
          <div class="stat-card">
            <div class="stat-icon visitors">
              <i class="fas fa-eye"></i>
            </div>
            <div class="stat-info">
              <h3 id="visitorsCount">127</h3>
              <p>Pengunjung Hari Ini</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon customers">
              <i class="fas fa-users"></i>
            </div>
            <div class="stat-info">
              <h3 id="customersCount">85</h3>
              <p>Total Pelanggan</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon profit">
              <i class="fas fa-chart-line"></i>
            </div>
            <div class="stat-info">
              <h3 id="profitPercent">82%</h3>
              <p>Rasio Keuntungan</p>
            </div>
          </div>
          <div class="stat-card">
            <div class="stat-icon transactions">
              <i class="fas fa-receipt"></i>
            </div>
            <div class="stat-info">
              <h3 id="transactionsCount">43</h3>
              <p>Transaksi Hari Ini</p>
            </div>
          </div>
        </div>

        <div class="recent-orders">
          <h3><i class="fas fa-clock"></i> Pesanan Terbaru</h3>
          <div id="recentOrdersList"></div>
        </div>
      </div>

      <div class="content-section" id="menu-section">
        <div class="menu-controls">
          <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input
              type="text"
              id="menuSearch"
              placeholder="Cari nama makanan..."
              class="search-input"
            />
            <button id="clearSearch" class="clear-search" style="display: none">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all">
              <i class="fas fa-th"></i> Semua
            </button>
            <button class="filter-btn" data-filter="food">
              <i class="fas fa-utensils"></i> Makanan
            </button>
            <button class="filter-btn" data-filter="drink">
              <i class="fas fa-coffee"></i> Minuman
            </button>
          </div>
        </div>
        <div class="menu-grid" id="menuGrid"></div>
      </div>

      <div class="content-section" id="orders-section">
        <div class="recent-orders" style="margin-bottom: 30px">
          <h3><i class="fas fa-clock"></i> Pesanan Menunggu Konfirmasi</h3>
          <div id="pendingOrdersList"></div>
        </div>

        <div class="recent-orders">
          <h3><i class="fas fa-shopping-cart"></i> Semua Pesanan</h3>
          <div id="allOrdersList"></div>
        </div>
      </div>

      <div class="content-section" id="admin-section">
        <div class="admin-section">
          <h3><i class="fas fa-plus"></i> Tambah Menu Baru</h3>
          <form id="addMenuForm">
            <div class="admin-controls">
              <div class="control-group">
                <label>Nama Menu</label>
                <input type="text" id="menuName" required />
              </div>
              <div class="control-group">
                <label>Harga (Rp)</label>
                <input type="number" id="menuPrice" required />
              </div>
              <div class="control-group">
                <label>URL Gambar</label>
                <input type="url" id="menuImage" required />
              </div>
              <div class="control-group">
                <label>Deskripsi</label>
                <textarea id="menuDescription" rows="3" required></textarea>
              </div>
              <div class="control-group">
                <label>Diskon (%)</label>
                <input
                  type="number"
                  id="menuDiscount"
                  min="0"
                  max="90"
                  value="0"
                />
              </div>
              <br />
              <div class="control-group">
                <button type="submit" class="admin-btn success">
                  Tambah Menu
                </button>
              </div>
            </div>
          </form>
        </div>

        <div class="admin-section">
          <h3><i class="fas fa-percentage"></i> Kelola Diskon Global</h3>
          <div class="admin-controls">
            <div class="control-group">
              <label>Diskon untuk Semua Menu (%)</label>
              <input
                type="number"
                id="globalDiscount"
                min="0"
                max="50"
                value="0"
              />
            </div>
            <br />
            <div class="control-group">
              <button
                type="button"
                class="admin-btn"
                onclick="applyGlobalDiscount()"
              >
                Terapkan Diskon
              </button>
            </div>
          </div>
        </div>

        <div class="admin-section">
          <h3><i class="fas fa-bell"></i> Kirim Notifikasi</h3>
          <div class="admin-controls">
            <div class="control-group">
              <label>Jenis Notifikasi</label>
              <select id="notificationType">
                <option value="discount">Diskon</option>
                <option value="success">Pembelian Berhasil</option>
                <option value="info">Informasi</option>
              </select>
            </div>
            <div class="control-group">
              <label>Pesan Notifikasi</label>
              <textarea
                id="notificationMessage"
                rows="3"
                placeholder="Masukkan pesan notifikasi..."
              ></textarea>
            </div>
            <br />
            <div class="control-group">
              <button
                type="button"
                class="admin-btn success"
                onclick="sendNotification()"
              >
                Kirim Notifikasi
              </button>
            </div>
          </div>
        </div>
      </div>

      <!-- Customers Section -->
      <div class="content-section" id="customers-section">
        <div class="recent-orders">
          <h3><i class="fas fa-users"></i> Data Pelanggan</h3>
          <div id="customersList"></div>
        </div>
      </div>

      <!-- Reports Section -->
      <div class="content-section" id="reports-section">
        <div class="admin-section">
          <h3><i class="fas fa-chart-bar"></i> Laporan Penjualan</h3>
          <div class="dashboard-stats">
            <div class="stat-card">
              <div class="stat-icon success">
                <i class="fas fa-money-bill-wave"></i>
              </div>
              <div class="stat-info">
                <h3 id="totalRevenue">Rp 2,450,000</h3>
                <p>Total Pendapatan Bulan Ini</p>
              </div>
            </div>
            <div class="stat-card">
              <div class="stat-icon warning">
                <i class="fas fa-utensils"></i>
              </div>
              <div class="stat-info">
                <h3 id="totalMenusSold">234</h3>
                <p>Menu Terjual Bulan Ini</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Settings Section -->
      <div class="content-section" id="settings-section">
        <div class="admin-section">
          <h3><i class="fas fa-sliders-h"></i> Pengaturan Resto</h3>
          <div class="admin-controls">
            <div class="control-group">
              <label>Nama Resto</label>
              <input type="text" id="restoName" value="Armindo - Cafe" />
            </div>
            <div class="control-group">
              <label>Alamat</label>
              <textarea id="restoAddress" rows="2">
Jl.D GG.baru Karang-anyar. JAKARTA📍 </textarea
              >
            </div>
            <div class="control-group">
              <label>Nomor Telepon</label>
              <input type="tel" id="restoPhone" value="+62 812-3456-7890" />
            </div>
            <div class="control-group">
              <button type="button" class="admin-btn success">
                Simpan Pengaturan
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
      <div class="cart-header">
        <h3>Keranjang Belanja</h3>
        <button class="cart-close" id="cartClose">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="cart-items" id="cartItems"></div>
      <div class="cart-total" id="cartTotal"></div>
    </div>

    <!-- Auth Modal -->
    <div class="auth-modal" id="authModal">
      <div class="auth-form">
        <button class="auth-close" id="authClose">
          <i class="fas fa-times"></i>
        </button>
        <form id="authForm">
          <h2 id="authTitle">Login</h2>
          <div class="form-group">
            <label for="authEmail">Email</label>
            <input type="email" id="authEmail" required />
          </div>
          <div class="form-group">
            <label for="authPassword">Password</label>
            <input type="password" id="authPassword" required />
          </div>
          <div class="form-group" id="authNameGroup" style="display: none">
            <label for="authName">Nama Lengkap</label>
            <input type="text" id="authName" />
          </div>
          <button type="submit" class="auth-btn" id="authSubmit">Login</button>
        </form>
        <div class="auth-switch">
          <span id="authSwitchText">Belum punya akun?</span>
          <a href="#" id="authSwitchLink">Daftar di sini</a>
        </div>
      </div>
    </div>

    <!-- Payment Method Modal -->
    <div class="auth-modal" id="paymentModal">
      <div class="auth-form" style="max-width: 500px">
        <button class="auth-close" id="paymentClose">
          <i class="fas fa-times"></i>
        </button>
        <h2>Pilih Metode Pembayaran</h2>
        <div
          id="paymentTotal"
          style="
            text-align: center;
            margin-bottom: 30px;
            font-size: 18px;
            font-weight: 600;
            color: var(--accent-color);
          "
        ></div>

        <div class="payment-methods">
          <div class="payment-option" onclick="selectPaymentMethod('qris')">
            <div class="payment-icon">
              <i class="fas fa-qrcode"></i>
            </div>
            <div class="payment-info">
              <div class="payment-name">QRIS</div>
              <div class="payment-desc">Scan QR Code untuk bayar</div>
            </div>
            <i class="fas fa-chevron-right"></i>
          </div>

          <div class="payment-option" onclick="selectPaymentMethod('dana')">
            <div class="payment-icon">
              <i class="fas fa-mobile-alt"></i>
            </div>
            <div class="payment-info">
              <div class="payment-name">DANA</div>
              <div class="payment-desc">Transfer via DANA</div>
            </div>
            <i class="fas fa-chevron-right"></i>
          </div>

          <div class="payment-option" onclick="selectPaymentMethod('cash')">
            <div class="payment-icon">
              <i class="fas fa-money-bill-wave"></i>
            </div>
            <div class="payment-info">
              <div class="payment-name">Cash</div>
              <div class="payment-desc">Bayar di kasir</div>
            </div>
            <i class="fas fa-chevron-right"></i>
          </div>
        </div>
      </div>
    </div>

    <!-- QRIS Payment Modal -->
    <div class="auth-modal" id="qrisModal">
      <div class="auth-form" style="max-width: 400px; text-align: center">
        <button class="auth-close" id="qrisClose">
          <i class="fas fa-times"></i>
        </button>
        <h2>Pembayaran QRIS</h2>
        <div
          id="qrisTotal"
          style="
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: 600;
            color: var(--accent-color);
          "
        ></div>

        <div class="qris-container">
          <img
            src="imgweb/qris.jpg"
            alt="QR Code QRIS"
            style="
              width: 200px;
              height: 200px;
              border: 2px solid #ddd;
              border-radius: 10px;
              margin-bottom: 20px;
            "
          />
          <p style="color: var(--text-light); margin-bottom: 20px">
            Scan QR Code di atas dengan aplikasi e-wallet Anda
          </p>
          <div
            style="
              background: var(--light-bg);
              padding: 15px;
              border-radius: 8px;
              margin-bottom: 20px;
            "
          >
            <p style="margin: 0; color: var(--text-light); font-weight: 500">
              Langkah pembayaran:
            </p>
            <ol
              style="
                text-align: left;
                color: #7f8c8d;
                font-size: 14px;
                margin: 10px 0 0 20px;
              "
            >
              <li>Buka aplikasi e-wallet (GoPay, OVO, DANA, dll)</li>
              <li>Pilih menu scan QR Code</li>
              <li>Scan QR Code di atas</li>
              <li>Konfirmasi pembayaran</li>
              <li>Upload bukti transfer di bawah</li>
            </ol>
          </div>

          <!-- Upload Bukti Transfer -->
          <div
            style="
              background: var(--light-bg);
              padding: 15px;
              border-radius: 8px;
              margin-bottom: 20px;
            "
          >
            <label
              style="
                display: block;
                margin-bottom: 10px;
                font-weight: 500;
                color: var(--text-light);
              "
            >
              <i class="fas fa-upload"></i> Upload Bukti Transfer
            </label>
            <input
              type="file"
              id="qrisProofUpload"
              accept="image/*"
              style="
                width: 100%;
                padding: 10px;
                border: 2px dashed #ddd;
                border-radius: 6px;
                background: white;
              "
            />
            <p style="font-size: 12px; color: #7f8c8d; margin: 8px 0 0 0">
              Format: JPG, PNG, maksimal 5MB
            </p>
            <div id="qrisProofPreview" style="margin-top: 10px; display: none">
              <img
                id="qrisProofImage"
                style="
                  max-width: 100%;
                  height: 150px;
                  border-radius: 6px;
                  border: 1px solid #ddd;
                "
              />
            </div>
          </div>

          <button
            class="auth-btn"
            onclick="confirmPayment('qris')"
            id="qrisPaymentBtn"
            disabled
          >
            <i class="fas fa-check"></i> Sudah Bayar & Upload Bukti
          </button>
        </div>
      </div>
    </div>

    <!-- DANA Payment Modal -->
    <div class="auth-modal" id="danaModal">
      <div class="auth-form" style="max-width: 400px; text-align: center">
        <button class="auth-close" id="danaClose">
          <i class="fas fa-times"></i>
        </button>
        <h2>Pembayaran DANA</h2>
        <div
          id="danaTotal"
          style="
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: 600;
            color: var(--accent-color);
          "
        ></div>

        <div class="dana-container">
          <div
            style="
              background: var(--light-bg);
              padding: 20px;
              border-radius: 10px;
              margin-bottom: 20px;
            "
          >
            <i
              class="fas fa-mobile-alt"
              style="font-size: 48px; color: #118eea; margin-bottom: 15px"
            ></i>
            <h3 style="color: var(--text-light); margin-bottom: 10px">
              Transfer ke DANA
            </h3>
            <div
              style="
                background: white;
                padding: 15px;
                border-radius: 8px;
                margin-bottom: 15px;
              "
            >
              <div style="color: #7f8c8d; font-size: 14px; margin-bottom: 5px">
                Nomor DANA:
              </div>
              <div
                style="
                  font-size: 18px;
                  font-weight: 600;
                  color: var(--text-light);
                "
              >
                +62 838 1366 0206
              </div>
            </div>
            <button
              class="auth-btn"
              style="background: #118eea; margin-bottom: 15px"
              onclick="openDANATransfer()"
            >
              <i class="fab fa-whatsapp"></i> Buka DANA
            </button>
          </div>

          <div
            style="
              background: var(--light-bg);
              padding: 15px;
              border-radius: 8px;
              margin-bottom: 20px;
            "
          >
            <p style="margin: 0; color: var(--text-light); font-weight: 500">
              Langkah pembayaran:
            </p>
            <ol
              style="
                text-align: left;
                color: #7f8c8d;
                font-size: 14px;
                margin: 10px 0 0 20px;
              "
            >
              <li>Buka aplikasi DANA</li>
              <li>Pilih menu "Transfer"</li>
              <li>Masukkan nomor: +62 838 1366 0206</li>
              <li>Masukkan nominal sesuai total</li>
              <li>Konfirmasi transfer</li>
              <li>Klik "Sudah Bayar" di bawah setelah berhasil</li>
            </ol>
          </div>
          <button class="auth-btn" onclick="confirmPayment('dana')">
            <i class="fas fa-check"></i> Sudah Bayar
          </button>
        </div>
      </div>
    </div>

    <!-- Cash Payment Modal -->
    <div class="auth-modal" id="cashModal">
      <div class="auth-form" style="max-width: 400px; text-align: center">
        <button class="auth-close" id="cashClose">
          <i class="fas fa-times"></i>
        </button>
        <h2>Pembayaran Cash</h2>
        <div
          id="cashTotal"
          style="
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: 600;
            color: var(--accent-color);
          "
        ></div>

        <div class="cash-container">
          <div
            style="
              background: var(--light-bg);
              padding: 20px;
              border-radius: 10px;
              margin-bottom: 20px;
            "
          >
            <i
              class="fas fa-store"
              style="
                font-size: 48px;
                color: var(--success-color);
                margin-bottom: 15px;
              "
            ></i>
            <h3 style="color: var(--text-light); margin-bottom: 15px">
              Silahkan Bayar di Kasir
            </h3>
            <p style="color: #7f8c8d; line-height: 1.6">
              Tunjukkan struk pesanan ini ke kasir dan lakukan pembayaran tunai
              sesuai total yang tertera.
            </p>
          </div>
          <button class="auth-btn" onclick="confirmPayment('cash')">
            <i class="fas fa-receipt"></i> Buat Struk Pesanan
          </button>
        </div>
      </div>
    </div>

    <!-- Receipt Modal -->
    <div class="auth-modal" id="receiptModal">
      <div class="auth-form" style="max-width: 450px">
        <button class="auth-close" id="receiptClose">
          <i class="fas fa-times"></i>
        </button>
        <div class="receipt-container">
          <div
            class="receipt-header"
            style="
              text-align: center;
              border-bottom: 2px dashed #ddd;
              padding-bottom: 20px;
              margin-bottom: 20px;
            "
          >
            <img
              src="imgweb/logowe.jpg"
              alt="Logo"
              style="
                width: 60px;
                height: 60px;
                border-radius: 50%;
                margin-bottom: 10px;
              "
            />
            <h2 style="margin: 0; color: var(--text-light)">ARMINDO CAFE</h2>
            <p style="margin: 5px 0 0 0; color: #7f8c8d; font-size: 14px">
              Jl. Mangga Besar VIII No. 15A
            </p>
            <p style="margin: 0; color: #7f8c8d; font-size: 14px">
              Jakarta Barat
            </p>
          </div>

          <div id="receiptContent"></div>

          <div style="text-align: center; margin-top: 20px">
            <button class="auth-btn" onclick="printReceipt()">
              <i class="fas fa-print"></i> Cetak Struk
            </button>
            <button
              class="auth-btn"
              style="background: var(--success-color); margin-left: 10px"
              onclick="closeReceiptModal()"
            >
              <i class="fas fa-check"></i> Selesai
            </button>
          </div>
        </div>
      </div>
    </div>
    <script>
      let currentUser = null;
      let isAdmin = false;
      let visitorsCount = 127;
      let cart = [];
      let menuItems = [];
      let orders = [];
      let customers = [];
      let notifications = [];
      let currentPaymentMethod = null;
      let currentOrderData = null;
      let filteredMenuItems = [];
      let currentFilter = "all";
      let searchQuery = "";

      // Initialize default menu items
      const defaultMenuItems = [
        {
          id: 1,
          name: "Nasi Goreng Spesial",
          price: 25000,
          image:
            "https://images.unsplash.com/photo-1603133872878-684f208fb84b?w=300&h=200&fit=crop",
          description: "Nasi goreng dengan telur, ayam, dan sayuran segar",
          discount: 10,
          sold: 45,
          category: "food",
        },
        {
          id: 2,
          name: "Ayam Bakar Madu",
          price: 35000,
          image:
            "https://images.unsplash.com/photo-1598515214211-89d3c73ae83b?w=300&h=200&fit=crop",
          description: "Ayam bakar dengan bumbu madu spesial yang lezat",
          discount: 15,
          sold: 32,
          category: "food",
        },
        {
          id: 3,
          name: "Sate Kambing",
          price: 30000,
          image:
            "https://images.unsplash.com/photo-1529563021893-cc83c992d75d?w=300&h=200&fit=crop",
          description: "Sate kambing empuk dengan bumbu kacang khas",
          discount: 0,
          sold: 28,
          category: "food",
        },
        {
          id: 4,
          name: "Gado-Gado Jakarta",
          price: 20000,
          image: "makanan/4.jpg",
          description: "Gado-gado dengan sayuran segar dan bumbu kacang",
          discount: 5,
          sold: 38,
          category: "food",
        },
        {
          id: 5,
          name: "Rendang Daging",
          price: 45000,
          image: "makanan/5.jpg",
          description: "Rendang daging sapi dengan bumbu rempah tradisional",
          discount: 20,
          sold: 25,
          category: "food",
        },
        {
          id: 6,
          name: "Soto Betawi",
          price: 28000,
          image: "makanan/6.jpg",
          description: "Soto Betawi dengan daging dan jeroan yang gurih",
          discount: 0,
          sold: 35,
          category: "food",
        },
        {
          id: 7,
          name: "Nasi Gudeg Yogya",
          price: 22000,
          image: "makanan/7.jpg",
          description: "Soto Betawi dengan daging dan jeroan yang gurih",
          discount: 8,
          sold: 42,
          category: "food",
        },
        {
          id: 8,
          name: "Ikan Bakar Bumbu Rujak",
          price: 38000,
          image: "makanan/8.jpg",
          description: "Ikan segar bakar dengan bumbu rujak yang pedas",
          discount: 12,
          sold: 18,
          category: "food",
        },
        {
          id: 9,
          name: "Bakso Malang",
          price: 18000,
          image: "makanan/9.jpg",
          description: "Bakso daging sapi dengan kuah kaldu yang hangat",
          discount: 0,
          sold: 55,
          category: "food",
        },
        {
          id: 10,
          name: "Pecel Lele",
          price: 15000,
          image: "makanan/10.jpg",
          description: "Lele goreng crispy dengan sambal dan lalapan",
          discount: 5,
          sold: 48,
          category: "food",
        },
        {
          id: 11,
          name: "Es Teh Manis",
          price: 5000,
          image: "makanan/11.jpg",
          description: "Es teh manis segar untuk menemani makan",
          discount: 0,
          sold: 75,
          category: "drink",
        },
        {
          id: 12,
          name: "Es Jeruk Segar",
          price: 8000,
          image:
            "https://images.unsplash.com/photo-1556679343-c7306c1976bc?w=300&h=200&fit=crop",
          description: "Jus jeruk segar dengan es batu yang menyegarkan",
          discount: 10,
          sold: 52,
          category: "drink",
        },
        {
          id: 13,
          name: "Mie Ayam Bakso",
          price: 16000,
          image: "makanan/13.jpg",
          description: "Mie ayam dengan bakso dan pangsit yang lezat",
          discount: 0,
          sold: 65,
          category: "food",
        },
        {
          id: 14,
          name: "",
          price: 24000,
          image: "makanan/14.jpg",
          description: "Capcay goreng dengan sayuran segar dan daging",
          discount: 15,
          sold: 22,
          category: "food",
        },
        {
          id: 15,
          name: "Nasi Padang",
          price: 32000,
          image: "makanan/15.jpg",
          description: "Nasi padang dengan berbagai lauk khas Minang",
          discount: 10,
          sold: 38,
          category: "food",
        },
        {
          id: 16,
          name: "Sop Iga Sapi",
          price: 42000,
          image: "makanan/16.jpg",
          description: "Sup iga sapi dengan kuah bening yang hangat",
          discount: 18,
          sold: 15,
          category: "food",
        },
        {
          id: 17,
          name: "Kwetiau Goreng",
          price: 26000,
          image: "makanan/17.jpg",
          description: "Kwetiau goreng dengan tauge dan daging ayam",
          discount: 0,
          sold: 33,
          category: "food",
        },
        {
          id: 18,
          name: "Nasi Kebuli",
          price: 12000,
          image: "makanan/18.jpg",
          description: "Nasi kebuli dengan bumbu khas serta ayamnya yang gurih",
          discount: 8,
          sold: 44,
          category: "food",
        },
        {
          id: 19,
          name: "Sop Buntut",
          price: 48000,
          image: "makanan/19.jpg",
          description: "Sop buntut sapi dengan kuah kaldu yang kaya rasa",
          discount: 25,
          sold: 12,
          category: "food",
        },
        {
          id: 20,
          name: "Nasi Liwet",
          price: 19000,
          image: "makanan/20.jpg",
          description: "Nasi liwet dengan lauk pauk tradisional",
          discount: 5,
          sold: 36,
          category: "food",
        },
        {
          id: 21,
          name: "Bebek Goreng",
          price: 40000,
          image: "makanan/21.jpg",
          description: "Bebek goreng dengan sambal dan lalapan segar",
          discount: 12,
          sold: 20,
          category: "food",
        },
        {
          id: 22,
          name: "Rawon Surabaya",
          price: 29000,
          image: "makanan/22.jpg",
          description: "Rawon daging sapi khas Surabaya yang hitam legit",
          discount: 0,
          sold: 27,
          category: "food",
        },
        {
          id: 23,
          name: "Pisang Goreng",
          price: 8000,
          image: "makanan/23.jpg",
          description: "Pisang goreng crispy dengan taburan gula",
          discount: 0,
          sold: 62,
          category: "food",
        },
        {
          id: 24,
          name: "Es Campur",
          price: 12000,
          image: "makanan/24.jpg",
          description: "Es campur dengan berbagai topping segar",
          discount: 15,
          sold: 41,
          category: "drink",
        },
        {
          id: 25,
          name: "Kerak Telor",
          price: 14000,
          image: "makanan/25.jpg",
          description: "Kerak telor khas Betawi dengan kelapa parut",
          discount: 0,
          sold: 23,
          category: "food",
        },
        {
          id: 26,
          name: "soto mie bogor",
          price: 20000,
          image: "makanan/26.jpg",
          description: "soto mie yang enak dan gurih pak nardji",
          discount: 10,
          sold: 45,
          category: "food",
        },
        {
          id: 27,
          name: "sate padang jinji",
          price: 35000,
          image: "makanan/27.jpg",
          description:
            "sate padang khas padang yang empuk dibakar pake cpu computer yang overheat",
          discount: 15,
          sold: 32,
          category: "food",
        },
        {
          id: 28,
          name: "coto makassar",
          price: 20000,
          image: "makanan/28.jpg",
          description:
            "coto makacar yang enyak dan bergizyi dengan rempah special",
          discount: 0,
          sold: 28,
          category: "food",
        },
        {
          id: 29,
          name: "cappucino smooties",
          price: 29000,
          image: "minuman/29.jpg",
          description: "minuman cappucino dengan barista berpengalaman",
          discount: 5,
          sold: 38,
          category: "drink",
        },
        {
          id: 30,
          name: "milkshake caramel",
          price: 25000,
          image: "minuman/30.jpg",
          description: "milkshake caramel with foam europe",
          discount: 20,
          sold: 25,
          category: "drink",
        },
        {
          id: 31,
          name: "cappucino latte",
          price: 30000,
          image: "minuman/31.jpg",
          description: "cappucino with latte art",
          discount: 0,
          sold: 35,
          category: "drink",
        },
        {
          id: 32,
          name: "wine grape",
          price: 324000,
          image: "minuman/32.jpg",
          description: "wine anggur 0% alkohol",
          discount: 5,
          sold: 42,
          category: "drink",
        },
        {
          id: 33,
          name: "Milk Tea Boba",
          price: 15000,
          image: "minuman/33.jpg",
          description:
            "milk tea boba aseli dengan tingkat kemanisan seperti kamuuu :)",
          discount: 5,
          sold: 42,
          category: "drink",
        },
        {
          id: 34,
          name: "Thai tea",
          price: 24000,
          image: "minuman/34.jpg",
          description: "thai tea yang harum, WAJIB DICOBA",
          discount: 2,
          sold: 42,
          category: "drink",
        },
        {
          id: 35,
          name: "Jus Strawberry",
          price: 10000,
          image: "minuman/35.jpg",
          description: "jus strawberry yang enak di jus langsung di hutan",
          discount: 0,
          sold: 42,
          category: "drink",
        },
        {
          id: 36,
          name: "Aqua Botol",
          price: 10000,
          image: "minuman/36.jpg",
          description: "Aqua Botol 250ml",
          discount: 0,
          sold: 42,
          category: "drink",
        },
        {
          id: 37,
          name: "jus alpukat",
          price: 8000,
          image: "minuman/37.jpg",
          description: "Jus Alpukat Segar 1 Gelas",
          discount: 0,
          sold: 42,
          category: "drink",
        },
        {
          id: 38,
          name: "jus buah naga",
          price: 10000,
          image: "minuman/38.jpg",
          description: "jus buah naga dijus dengan blender",
          discount: 0,
          sold: 42,
          category: "drink",
        },
        {
          id: 39,
          name: "escream kelapa",
          price: 12000,
          image: "minuman/39.jpg",
          description: "Es cream kelapa muda segar",
          discount: 5,
          sold: 47,
          category: "drink",
        },
        {
          id: 40,
          name: "Teh Tarik",
          price: 15000,
          image: "minuman/40.jpg",
          description: "Teh tarik khas Malaysia dengan buih lembut",
          discount: 10,
          sold: 34,
          category: "drink",
        },
        {
          id: 41,
          name: "Es Cincau Hitam",
          price: 9000,
          image: "minuman/41.jpg",
          description: "Cincau hitam dengan gula merah dan santan",
          discount: 0,
          sold: 51,
          category: "drink",
        },
        {
          id: 42,
          name: "Wedang Jahe",
          price: 7000,
          image: "minuman/42.jpg",
          description: "Minuman jahe hangat yang menyegarkan badan",
          discount: 0,
          sold: 29,
          category: "drink",
        },
        {
          id: 43,
          name: "Jus Mangga",
          price: 11000,
          image: "minuman/43.jpg",
          description: "Jus mangga manis segar dari buah pilihan",
          discount: 5,
          sold: 33,
          category: "drink",
        },
        {
          id: 44,
          name: "Jus Wortel",
          price: 10000,
          image: "minuman/44.jpg",
          description: "Jus wortel sehat kaya vitamin A",
          discount: 0,
          sold: 27,
          category: "drink",
        },
        {
          id: 45,
          name: "Smoothie Pisang",
          price: 13000,
          image: "minuman/45.jpg",
          description: "Smoothie pisang lembut dan creamy",
          discount: 10,
          sold: 40,
          category: "drink",
        },
        {
          id: 46,
          name: "Lemon Tea",
          price: 9000,
          image: "minuman/46.jpg",
          description: "Teh lemon dingin dengan rasa asam manis segar",
          discount: 0,
          sold: 38,
          category: "drink",
        },
        {
          id: 47,
          name: "Kopi Tubruk",
          price: 8000,
          image: "minuman/47.jpg",
          description: "Kopi tubruk khas Indonesia dengan aroma kuat",
          discount: 5,
          sold: 43,
          category: "drink",
        },
        {
          id: 48,
          name: "Jus Melon",
          price: 9500,
          image: "minuman/48.jpg",
          description: "Jus melon dingin yang menyegarkan",
          discount: 3,
          sold: 36,
          category: "drink",
        },
        {
          id: 49,
          name: "Es Doger",
          price: 10000,
          image: "minuman/49.jpg",
          description:
            "Minuman tradisional dengan campuran santan, ketan hitam, dan tape",
          discount: 5,
          sold: 39,
          category: "drink",
        },
        {
          id: 50,
          name: "Jus Jambu Merah",
          price: 9000,
          image: "minuman/50.jpg",
          description: "Jus jambu merah segar, kaya vitamin C dan menyegarkan",
          discount: 0,
          sold: 44,
          category: "drink",
        },
      ];

      // Initialize data
      menuItems = [...defaultMenuItems];

      // Initialize recent orders
      orders = [
        {
          id: 1,
          customerName: "Rafael almeric situmeang",
          items: ["Nasi Goreng Spesial", "Es Teh Manis"],
          total: 30000,
          time: "2024-09-03 14:30:15",
          status: "completed",
        },
        {
          id: 2,
          customerName: "ade putra sanjaya",
          items: ["Rendang Daging", "Es Jeruk Segar"],
          total: 53000,
          time: "2024-09-03 13:42:18",
          status: "completed",
        },
        {
          id: 3,
          customerName: "M. Miftah",
          items: ["Ayam Bakar Madu", "Nasi Putih"],
          total: 40000,
          time: "2024-09-03 12:25:42",
          status: "completed",
        },
      ];

      // DOM Elements
      const sidebar = document.getElementById("sidebar");
      const overlay = document.getElementById("overlay");
      const hamburger = document.getElementById("hamburger");
      const pageTitle = document.getElementById("pageTitle");
      const menuGrid = document.getElementById("menuGrid");
      const cartSidebar = document.getElementById("cartSidebar");
      const authModal = document.getElementById("authModal");
      const themeToggle = document.getElementById("themeToggle");
      const userMenu = document.getElementById("userMenu");
      const userName = document.getElementById("userName");
      const paymentModal = document.getElementById("paymentModal");
      const qrisModal = document.getElementById("qrisModal");
      const danaModal = document.getElementById("danaModal");
      const cashModal = document.getElementById("cashModal");
      const receiptModal = document.getElementById("receiptModal");
      const qrisUpload = document.getElementById("qrisProofUpload");
      const qrisPreview = document.getElementById("qrisProofPreview");
      const qrisImage = document.getElementById("qrisProofImage");
      const qrisBtn = document.getElementById("qrisPaymentBtn");

      hamburger.addEventListener("click", toggleSidebar);
      overlay.addEventListener("click", closeSidebar);
      document.getElementById("cartClose").addEventListener("click", closeCart);
      document.getElementById("authClose").addEventListener("click", closeAuth);
      themeToggle.addEventListener("click", toggleTheme);
      userMenu.addEventListener("click", handleUserMenuClick);
      document
        .getElementById("paymentClose")
        .addEventListener("click", closePaymentModal);
      document
        .getElementById("qrisClose")
        .addEventListener("click", closeQrisModal);
      document
        .getElementById("danaClose")
        .addEventListener("click", closeDanaModal);
      document
        .getElementById("cashClose")
        .addEventListener("click", closeCashModal);
      document
        .getElementById("receiptClose")
        .addEventListener("click", closeReceiptModal);

      if (qrisUpload) {
        qrisUpload.addEventListener("change", function (e) {
          const file = e.target.files[0];
          if (!file) {
            qrisPreview.style.display = "none";
            qrisBtn.disabled = true;
            return;
          }

          // Validasi file
          if (file.size > 5 * 1024 * 1024) {
            // 5MB
            alert("Ukuran file terlalu besar. Maksimal 5MB.");
            e.target.value = "";
            return;
          }

          if (!file.type.startsWith("image/")) {
            alert("File harus berupa gambar (JPG, PNG, etc.)");
            e.target.value = "";
            return;
          }

          // Preview gambar
          const reader = new FileReader();
          reader.onload = function (e) {
            qrisImage.src = e.target.result;
            qrisPreview.style.display = "block";
            qrisBtn.disabled = false;

            // Simpan bukti ke order data
            if (currentOrderData) {
              currentOrderData.proofImage = e.target.result;
              currentOrderData.proofFileName = file.name;
            }
          };
          reader.readAsDataURL(file);
        });
      }
      // Menu items click handlers
      document.querySelectorAll(".menu-item").forEach((item) => {
        item.addEventListener("click", (e) => {
          e.preventDefault();
          const section = e.currentTarget.dataset.section;
          showSection(section);
          closeSidebar();
        });
      });

      // Auth form handler
      document
        .getElementById("authForm")
        .addEventListener("submit", handleAuth);
      document
        .getElementById("authSwitchLink")
        .addEventListener("click", toggleAuthMode);

      // Add menu form handler
      document
        .getElementById("addMenuForm")
        .addEventListener("submit", handleAddMenu);

      // Functions
      function toggleSidebar() {
        const sidebar = document.getElementById("sidebar");
        const mainContent = document.querySelector(".main-content");
        const navbar = document.querySelector(".navbar");

        // Check if on mobile
        if (window.innerWidth <= 768) {
          // Mobile behavior - show/hide sidebar
          sidebar.classList.toggle("active");
          overlay.classList.toggle("active");
        } else {
          // Desktop behavior - collapse/expand sidebar
          sidebar.classList.toggle("collapsed");
          mainContent.classList.toggle("collapsed");
          navbar.classList.toggle("collapsed");
        }
      }

      // Event listeners untuk search dan filter
      function initMenuControls() {
        const searchInput = document.getElementById("menuSearch");
        const clearSearchBtn = document.getElementById("clearSearch");
        const filterBtns = document.querySelectorAll(".filter-btn");

        // Search functionality
        searchInput.addEventListener("input", (e) => {
          searchQuery = e.target.value.toLowerCase();
          clearSearchBtn.style.display = searchQuery ? "block" : "none";
          filterAndDisplayMenu();
        });

        // Clear search
        clearSearchBtn.addEventListener("click", () => {
          searchInput.value = "";
          searchQuery = "";
          clearSearchBtn.style.display = "none";
          filterAndDisplayMenu();
        });

        // Filter buttons
        filterBtns.forEach((btn) => {
          btn.addEventListener("click", () => {
            // Remove active class from all buttons
            filterBtns.forEach((b) => b.classList.remove("active"));
            // Add active class to clicked button
            btn.classList.add("active");

            currentFilter = btn.dataset.filter;
            filterAndDisplayMenu();
          });
        });
      }

      // Fungsi untuk filter dan search
      function filterAndDisplayMenu() {
        filteredMenuItems = menuItems.filter((item) => {
          // Filter by category
          const matchesFilter =
            currentFilter === "all" || item.category === currentFilter;

          // Filter by search query
          const matchesSearch =
            searchQuery === "" ||
            item.name.toLowerCase().includes(searchQuery) ||
            item.description.toLowerCase().includes(searchQuery);

          return matchesFilter && matchesSearch;
        });

        displayFilteredMenu();
      }

      // Fungsi untuk menampilkan menu yang sudah difilter
      function displayFilteredMenu() {
        const menuGrid = document.getElementById("menuGrid");

        if (filteredMenuItems.length === 0) {
          menuGrid.innerHTML = `
            <div style="grid-column: 1/-1; text-align: center; padding: 40px;">
                <i class="fas fa-search" style="font-size: 48px; color: #bdc3c7; margin-bottom: 16px;"></i>
                <h3 style="color: var(--text-light); margin-bottom: 8px;">Tidak ada menu yang ditemukan</h3>
                <p style="color: #7f8c8d;">Coba gunakan kata kunci lain atau ubah filter</p>
            </div>
        `;
          return;
        }

        menuGrid.innerHTML = filteredMenuItems
          .map((item) => {
            const discountedPrice =
              item.discount > 0
                ? item.price - (item.price * item.discount) / 100
                : item.price;
            return `
            <div class="menu-card">
                ${
                  item.discount > 0
                    ? `<div class="discount-badge">-${item.discount}%</div>`
                    : ""
                }
                <img src="${item.image}" alt="${item.name}" class="menu-image">
                <div class="menu-content">
                    <div class="menu-title">${item.name}</div>
                    <div class="menu-description">${item.description}</div>
                    <div class="menu-footer">
                        <div>
                            ${
                              item.discount > 0
                                ? `<div class="menu-price discounted">Rp ${item.price.toLocaleString()}</div>
                                 <div class="discount-price">Rp ${discountedPrice.toLocaleString()}</div>`
                                : `<div class="menu-price">Rp ${item.price.toLocaleString()}</div>`
                            }
                        </div>
                        <button class="add-to-cart" onclick="addToCart(${
                          item.id
                        })">
                            <i class="fas fa-plus"></i> Tambah
                        </button>
                    </div>
                </div>
            </div>
        `;
          })
          .join("");
      }

      function closeSidebar() {
        // Only close on mobile
        if (window.innerWidth <= 768) {
          sidebar.classList.remove("active");
          overlay.classList.remove("active");
        }
      }

      function closeCart() {
        cartSidebar.classList.remove("active");
        overlay.classList.remove("active");
      }

      function closeAuth() {
        authModal.classList.remove("active");
      }

      function toggleTheme() {
        const body = document.body;
        const icon = themeToggle.querySelector("i");

        if (body.hasAttribute("data-theme")) {
          body.removeAttribute("data-theme");
          icon.className = "fas fa-sun";
        } else {
          body.setAttribute("data-theme", "dark");
          icon.className = "fas fa-moon";
        }
      }

      function showSection(sectionName) {
        // If not admin and trying to access admin-only sections, redirect to home
        if (
          !isAdmin &&
          [
            "dashboard",
            "orders",
            "admin",
            "customers",
            "reports",
            "settings",
          ].includes(sectionName)
        ) {
          sectionName = "home";
        }
        // Hide all sections
        document.querySelectorAll(".content-section").forEach((section) => {
          section.classList.remove("active");
          section.style.display = "none";
        });

        if (sectionName === "home") {
          // Load featured menu when showing home
          setTimeout(() => {
            loadFeaturedMenu();
            initScrollAnimations();
          }, 100);
        }

        // Show selected section
        document
          .getElementById(sectionName + "-section")
          .classList.add("active");

        // Update menu items`
        document.querySelectorAll(".menu-item").forEach((item) => {
          item.classList.remove("active");
        });

        const targetMenuItem = document.querySelector(
          `[data-section="${sectionName}"]`
        );
        if (targetMenuItem) {
          targetMenuItem.classList.add("active");
        }

        const targetSection = document.getElementById(sectionName + "-section");
        if (targetSection) {
          targetSection.classList.add("active");
          targetSection.style.display = "block"; // ← PAKSA SHOW
        }

        // Update page title
        // Update page title
        const titles = {
          home: "Beranda",
          resto: "Info Resto",
          dashboard: "Dashboard",
          menu: "Menu Makanan",
          orders: "Pesanan",
          admin: "Admin Panel",
          customers: "Pelanggan",
          reports: "Laporan",
          settings: "Pengaturan",
        };
        pageTitle.textContent = titles[sectionName] || "Menu Makanan";

        loadSectionData(sectionName);

        if (sectionName === "menu") {
          document.getElementById("menu-section").style.display = "block";
        }
      }

      function loadSectionData(sectionName) {
        switch (sectionName) {
          case "dashboard":
            updateDashboardStats();
            loadRecentOrders();
            break;
          case "menu":
            loadMenuItems();
            break;
          case "orders":
            loadAllOrders();
            break;
          case "customers":
            loadCustomers();
            break;
          case "admin":
            // Admin panel is static
            break;
          case "reports":
            updateReports();
            break;
          case "settings":
            // Settings are static
            break;
        }
      }

      function handleWindowResize() {
        const sidebar = document.getElementById("sidebar");
        const mainContent = document.querySelector(".main-content");
        const navbar = document.querySelector(".navbar");
        const overlay = document.getElementById("overlay");

        if (window.innerWidth > 768) {
          // Desktop mode
          sidebar.classList.remove("active");
          overlay.classList.remove("active");

          // Ensure desktop classes are applied
          if (!sidebar.classList.contains("collapsed")) {
            mainContent.classList.remove("collapsed");
            navbar.classList.remove("collapsed");
          }
        } else {
          // Mobile mode
          sidebar.classList.remove("collapsed");
          mainContent.classList.remove("collapsed");
          navbar.classList.remove("collapsed");
        }
      }

      // Add event listener for window resize
      window.addEventListener("resize", handleWindowResize);

      function updateDashboardStats() {
        document.getElementById("visitorsCount").textContent = visitorsCount;
        document.getElementById("customersCount").textContent =
          customers.length + 85;
        document.getElementById("transactionsCount").textContent =
          orders.length + 40;

        // Calculate profit percentage
        const totalRevenue = orders.reduce(
          (sum, order) => sum + order.total,
          0
        );
        const profitPercent = Math.min(
          95,
          Math.floor((totalRevenue / 1000000) * 100) + 78
        );
        document.getElementById("profitPercent").textContent =
          profitPercent + "%";
      }

      function loadRecentOrders() {
        const recentOrdersList = document.getElementById("recentOrdersList");
        const recentOrders = orders.slice(-5).reverse();

        recentOrdersList.innerHTML = recentOrders
          .map(
            (order) => `
                <div class="order-item">
                    <div class="order-avatar">${order.customerName.charAt(
                      0
                    )}</div>
                    <div class="order-info">
                        <div class="order-name">${order.customerName}</div>
                        <div class="order-time">Dine In • ${formatDate(
                          order.time
                        )}</div>
                    </div>
                    <div class="order-amount">Rp ${order.total.toLocaleString()}</div>
                </div>
            `
          )
          .join("");
      }

      function loadAllOrders() {
        loadPendingOrders(); // Load pending orders first

        const allOrdersList = document.getElementById("allOrdersList");
        allOrdersList.innerHTML = orders
          .map((order) => {
            const statusBadge =
              order.status === "completed"
                ? '<span style="background: var(--success-color); color: white; padding: 2px 8px; border-radius: 10px; font-size: 12px;">LUNAS</span>'
                : '<span style="background: var(--warning-color); color: white; padding: 2px 8px; border-radius: 10px; font-size: 12px;">PENDING</span>';

            return `
              <div class="order-item">
                <div class="order-avatar">${order.customerName.charAt(0)}</div>
                <div class="order-info">
                  <div class="order-name">
                    ${order.customerName} 
                    ${statusBadge}
                  </div>
                  <div class="order-time">Items: ${order.items.join(", ")}</div>
                  <div class="order-time">${
                    order.paymentMethod?.toUpperCase() || "CASH"
                  } • ${formatDate(order.time)}</div>
                </div>
                <div class="order-amount">Rp ${order.total.toLocaleString()}</div>
              </div>
            `;
          })
          .join("");
      }

      function loadPendingOrders() {
        const pendingOrdersList = document.getElementById("pendingOrdersList");
        const pendingOrders = orders.filter(
          (order) => order.status === "pending"
        );

        if (pendingOrders.length === 0) {
          pendingOrdersList.innerHTML = `
            <div style="text-align: center; padding: 20px; color: #7f8c8d;">
              <i class="fas fa-check-circle" style="font-size: 48px; margin-bottom: 10px;"></i>
              <p>Tidak ada pesanan yang menunggu konfirmasi</p>
            </div>
          `;
          return;
        }

        pendingOrdersList.innerHTML = pendingOrders
          .map((order) => {
            const paymentMethodText =
              {
                qris: "QRIS",
                dana: "DANA",
                cash: "TUNAI",
              }[order.paymentMethod] || order.paymentMethod?.toUpperCase();

            const proofStatus =
              order.paymentMethod === "qris"
                ? order.proofUploaded
                  ? "Bukti terupload"
                  : "Belum upload bukti"
                : "Siap dikonfirmasi";

            return `
              <div class="order-item" style="border: 2px solid var(--warning-color); background: rgba(243, 156, 18, 0.1);">
                <div class="order-avatar" style="background: var(--warning-color);">${order.customerName.charAt(
                  0
                )}</div>
                <div class="order-info" style="flex: 1;">
                  <div class="order-name">
                    ${order.customerName} 
                    <span style="background: var(--warning-color); color: white; padding: 2px 8px; border-radius: 10px; font-size: 12px;">MENUNGGU</span>
                  </div>
                  <div class="order-time">
                    <strong>No: ${
                      order.orderNumber
                    }</strong> • ${paymentMethodText}
                  </div>
                  <div class="order-time">Items: ${order.items.join(", ")}</div>
                  <div class="order-time">
                    ${formatDate(order.time)} • ${proofStatus}
                  </div>
                </div>
                <div style="display: flex; flex-direction: column; align-items: flex-end; gap: 8px;">
                  <div
                   class="order-amount">Rp ${order.total.toLocaleString()}
                  </div>
                  <div style="display: flex; flex-direction: column; gap: 8px; min-width: 120px;">
                    <div class="pending-order-actions">
                    <button class="admin-btn success" 
                            onclick="confirmOrder(${order.id})" 
                            ${
                              order.paymentMethod === "qris" &&
                              !order.proofUploaded
                                ? "disabled"
                                : ""
                            }>
                      <i class="fas fa-check"></i> Konfirmasi
                    </button>
                    <button class="admin-btn danger" 
                            onclick="rejectOrder(${order.id})">
                      <i class="fas fa-times"></i> Tolak
                    </button>
                    ${
                      order.paymentMethod === "qris"
                        ? `<button class="admin-btn" onclick="viewProof(${order.id})">
                        <i class="fas fa-image"></i> Lihat Bukti
                      </button>`
                        : ""
                    }
                  </div>
                </div>
              </div>
            `;
          })
          .join("");
      }

      function loadMenuItems() {
        // Initialize controls if not already done
        if (!document.getElementById("menuSearch").hasEventListeners) {
          initMenuControls();
          document.getElementById("menuSearch").hasEventListeners = true;
        }

        // Reset filters
        currentFilter = "all";
        searchQuery = "";
        document.getElementById("menuSearch").value = "";
        document.getElementById("clearSearch").style.display = "none";

        // Set active filter button
        document.querySelectorAll(".filter-btn").forEach((btn) => {
          btn.classList.remove("active");
          if (btn.dataset.filter === "all") {
            btn.classList.add("active");
          }
        });

        // Display all menu items
        filterAndDisplayMenu();
      }

      function loadCustomers() {
        const customersList = document.getElementById("customersList");
        const allCustomers = [
          ...new Set(orders.map((order) => order.customerName)),
        ];

        customersList.innerHTML = allCustomers
          .map((customerName) => {
            const customerOrders = orders.filter(
              (order) => order.customerName === customerName
            );
            const totalSpent = customerOrders.reduce(
              (sum, order) => sum + order.total,
              0
            );

            return `
                    <div class="order-item">
                        <div class="order-avatar">${customerName.charAt(
                          0
                        )}</div>
                        <div class="order-info">
                            <div class="order-name">${customerName}</div>
                            <div class="order-time">${
                              customerOrders.length
                            } pesanan • Total: Rp ${totalSpent.toLocaleString()}</div>
                        </div>
                        <div class="order-amount">
                            <button class="admin-btn" style="font-size: 12px; padding: 5px 10px;">Detail</button>
                        </div>
                    </div>
                `;
          })
          .join("");
      }

      function updateReports() {
        const totalRevenue =
          orders.reduce((sum, order) => sum + order.total, 0) + 2200000;
        const totalMenusSold = menuItems.reduce(
          (sum, item) => sum + (item.sold || 0),
          0
        );

        document.getElementById(
          "totalRevenue"
        ).textContent = `Rp ${totalRevenue.toLocaleString()}`;
        document.getElementById("totalMenusSold").textContent = totalMenusSold;
      }

      function handleUserMenuClick() {
        if (!currentUser) {
          authModal.classList.add("active");
        } else {
          // Show user options or logout
          if (confirm("Logout dari akun?")) {
            logout();
          }
        }
      }

      function handleAuth(e) {
        e.preventDefault();
        const email = document.getElementById("authEmail").value;
        const password = document.getElementById("authPassword").value;
        const name = document.getElementById("authName").value;
        const isLogin =
          document.getElementById("authTitle").textContent === "Login";

        if (isLogin) {
          // Simple login logic
          if (
            email === "admin@armindocafe.com" &&
            password ===
              "markshinoyo1234567890987654321qwertyuiopasdfghjklzxcvbnm"
          ) {
            currentUser = { name: "Admin", email: email, isAdmin: true };
            isAdmin = true;
            // Enable admin mode
            document.body.classList.add("admin-mode");
            document.body.classList.remove("guest-mode");
            updateSidebarVisibility();
            showSection("dashboard");
          } else {
            currentUser = {
              name: email.split("@")[0],
              email: email,
              isAdmin: false,
            };
            isAdmin = false;
            // Keep user mode
            document.body.classList.remove("admin-mode");
            document.body.classList.add("user-mode");
            updateSidebarVisibility();
            showSection("menu");
          }
        } else {
          // Register logic
          currentUser = { name: name, email: email, isAdmin: false };
          customers.push(currentUser);
          isAdmin = false;
          // Keep user mode
          document.body.classList.remove("admin-mode");
          document.body.classList.add("user-mode");
          updateSidebarVisibility();
          showSection("menu");
        }

        userName.textContent = currentUser.name;
        closeAuth();
        showNotification(
          isLogin ? "Login berhasil!" : "Registrasi berhasil!",
          "success"
        );

        // Update visitor count
        visitorsCount++;
        updateDashboardStats();
      }

      function toggleAuthMode(e) {
        e.preventDefault();
        const title = document.getElementById("authTitle");
        const submitBtn = document.getElementById("authSubmit");
        const switchText = document.getElementById("authSwitchText");
        const switchLink = document.getElementById("authSwitchLink");
        const nameGroup = document.getElementById("authNameGroup");

        if (title.textContent === "Login") {
          title.textContent = "Daftar";
          submitBtn.textContent = "Daftar";
          switchText.textContent = "Sudah punya akun?";
          switchLink.textContent = "Login di sini";
          nameGroup.style.display = "block";
        } else {
          title.textContent = "Login";
          submitBtn.textContent = "Login";
          switchText.textContent = "Belum punya akun?";
          switchLink.textContent = "Daftar di sini";
          nameGroup.style.display = "none";
        }
      }

      function logout() {
        currentUser = null;
        isAdmin = false;
        userName.textContent = "Guest";

        // Reset to guest mode
        document.body.classList.remove("admin-mode", "user-mode");
        document.body.classList.add("guest-mode");
        updateSidebarVisibility();
        showSection("menu");

        showNotification("Logout berhasil!", "success");
      }

      function goToMenu() {
        // Update sidebar active state
        document.querySelectorAll(".menu-item").forEach((item) => {
          item.classList.remove("active");
        });

        // Set menu item as active
        document.querySelector('[data-section="menu"]').classList.add("active");

        // Show menu section
        showSection("menu");

        // Smooth scroll ke atas
        window.scrollTo({
          top: 0,
          behavior: "smooth",
        });
      }

      function updateSidebarVisibility() {
        const adminMenuItems = document.querySelectorAll(
          ".menu-item.admin-only"
        );

        if (isAdmin) {
          // Show all menu items for admin
          adminMenuItems.forEach((item) => {
            item.style.display = "block";
            item.classList.remove("disabled");
          });
        } else {
          // Hide admin menu items for regular users
          adminMenuItems.forEach((item) => {
            item.style.display = "none";
          });

          // Make sure menu item is active for non-admin users
          document.querySelectorAll(".menu-item").forEach((item) => {
            item.classList.remove("active");
          });
          document
            .querySelector('[data-section="menu"]')
            .classList.add("active");
        }
      }

      function addToCart(itemId) {
        if (!currentUser) {
          authModal.classList.add("active");
          return;
        }

        const item = menuItems.find((m) => m.id === itemId);
        if (!item) return;

        const existingItem = cart.find((c) => c.id === itemId);
        if (existingItem) {
          existingItem.quantity++;
        } else {
          cart.push({
            ...item,
            quantity: 1,
          });
        }

        updateCartDisplay();
        showNotification(`${item.name} ditambahkan ke keranjang`, "success");
      }

      function updateCartDisplay() {
        const cartItems = document.getElementById("cartItems");
        const cartTotal = document.getElementById("cartTotal");

        if (cart.length === 0) {
          cartItems.innerHTML =
            '<p style="text-align: center; padding: 20px; color: #7f8c8d;">Keranjang kosong</p>';
          cartTotal.innerHTML = "";
          return;
        }

        cartItems.innerHTML = cart
          .map((item) => {
            const discountedPrice =
              item.discount > 0
                ? item.price - (item.price * item.discount) / 100
                : item.price;
            const totalPrice = discountedPrice * item.quantity;

            return `
                    <div class="cart-item">
                        <img src="${item.image}" alt="${
              item.name
            }" class="cart-item-image">
                        <div class="cart-item-info">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-price">Rp ${discountedPrice.toLocaleString()}</div>
                            <div class="quantity-control">
                                <button class="quantity-btn" onclick="updateQuantity(${
                                  item.id
                                }, -1)">-</button>
                                <span class="quantity-display">${
                                  item.quantity
                                }</span>
                                <button class="quantity-btn" onclick="updateQuantity(${
                                  item.id
                                }, 1)">+</button>
                            </div>
                        </div>
                        <div style="font-weight: 600; color: var(--accent-color);">
                            Rp ${totalPrice.toLocaleString()}
                        </div>
                    </div>
                `;
          })
          .join("");

        // Calculate totals
        const subtotal = cart.reduce((sum, item) => {
          const discountedPrice =
            item.discount > 0
              ? item.price - (item.price * item.discount) / 100
              : item.price;
          return sum + discountedPrice * item.quantity;
        }, 0);

        const tax = subtotal * 0.1; // 10% tax
        const total = subtotal + tax;

        cartTotal.innerHTML = `
                <div class="total-row">
                    <span>Subtotal:</span>
                    <span>Rp ${subtotal.toLocaleString()}</span>
                </div>
                <div class="total-row">
                    <span>Pajak (10%):</span>
                    <span>Rp ${tax.toLocaleString()}</span>
                </div>
                <div class="total-row final">
                    <span>Total:</span>
                    <span>Rp ${total.toLocaleString()}</span>
                </div>
                <button class="checkout-btn" onclick="checkout()">
                    <i class="fas fa-credit-card"></i> Checkout
                </button>
            `;
      }

      function updateQuantity(itemId, change) {
        const item = cart.find((c) => c.id === itemId);
        if (!item) return;

        item.quantity += change;

        if (item.quantity <= 0) {
          cart = cart.filter((c) => c.id !== itemId);
        }

        updateCartDisplay();
      }

      function checkout() {
        if (cart.length === 0) return;

        const subtotal = cart.reduce((sum, item) => {
          const discountedPrice =
            item.discount > 0
              ? item.price - (item.price * item.discount) / 100
              : item.price;
          return sum + discountedPrice * item.quantity;
        }, 0);

        const total = subtotal * 1.1; // Include tax

        // Create new order
        const newOrder = {
          id: orders.length + 1,
          customerName: currentUser.name,
          items: cart.map((item) => `${item.name} (${item.quantity}x)`),
          total: Math.round(total),
          time: new Date().toISOString().replace("T", " ").substring(0, 19),
          status: "completed",
        };

        orders.unshift(newOrder);

        // Update menu sold counts
        cart.forEach((cartItem) => {
          const menuItem = menuItems.find((m) => m.id === cartItem.id);
          if (menuItem) {
            menuItem.sold = (menuItem.sold || 0) + cartItem.quantity;
          }
        });

        // Clear cart
        cart = [];
        updateCartDisplay();
        closeCart();

        showNotification(
          "Pesanan berhasil! Terima kasih telah memesan.",
          "success"
        );

        // Update stats
        updateDashboardStats();

        // Update transaction count
        const currentTransactions = parseInt(
          document.getElementById("transactionsCount").textContent
        );
        document.getElementById("transactionsCount").textContent =
          currentTransactions + 1;
      }

      function showCart() {
        cartSidebar.classList.add("active");
        overlay.classList.add("active");
        updateCartDisplay();
      }

      function handleAddMenu(e) {
        e.preventDefault();

        const name = document.getElementById("menuName").value;
        const price = parseInt(document.getElementById("menuPrice").value);
        const image = document.getElementById("menuImage").value;
        const description = document.getElementById("menuDescription").value;
        const discount = parseInt(
          document.getElementById("menuDiscount").value
        );

        const newMenuItem = {
          id: menuItems.length + 1,
          name: name,
          price: price,
          image: image,
          description: description,
          discount: discount,
          sold: 0,
        };

        menuItems.push(newMenuItem);

        // Reset form
        e.target.reset();

        showNotification("Menu baru berhasil ditambahkan!", "success");

        // Reload menu if currently viewing menu section
        if (
          document.getElementById("menu-section").classList.contains("active")
        ) {
          loadMenuItems();
        }
      }

      function applyGlobalDiscount() {
        const discountPercent = parseInt(
          document.getElementById("globalDiscount").value
        );

        if (discountPercent < 0 || discountPercent > 100) {
          alert("Diskon harus antara 0-100%");
          return;
        }

        menuItems.forEach((item) => {
          item.discount = Math.max(item.discount, discountPercent);
        });

        showNotification(
          `Diskon ${discountPercent}% berhasil diterapkan ke semua menu!`,
          "success"
        );

        // Reload menu if currently viewing menu section
        if (
          document.getElementById("menu-section").classList.contains("active")
        ) {
          loadMenuItems();
        }
      }

      function sendNotification() {
        const type = document.getElementById("notificationType").value;
        const message = document.getElementById("notificationMessage").value;

        if (!message.trim()) {
          alert("Pesan notifikasi tidak boleh kosong");
          return;
        }

        showNotification(message, type);

        // Clear form
        document.getElementById("notificationMessage").value = "";

        // Update notification badge
        const badge = document.getElementById("notificationBadge");
        const currentCount = parseInt(badge.textContent);
        badge.textContent = currentCount + 1;
      }

      function showNotification(message, type = "info") {
        const notification = document.createElement("div");
        notification.className = `notification-popup ${type}`;
        notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 10px;">
                    <i class="fas ${
                      type === "success"
                        ? "fa-check-circle"
                        : type === "discount"
                        ? "fa-percent"
                        : "fa-info-circle"
                    }" 
                       style="color: ${
                         type === "success"
                           ? "var(--success-color)"
                           : type === "discount"
                           ? "var(--warning-color)"
                           : "var(--primary-color)"
                       };"></i>
                    <strong>${
                      type === "success"
                        ? "Berhasil"
                        : type === "discount"
                        ? "Diskon"
                        : "Info"
                    }</strong>
                </div>
                <p style="margin: 0; color: var(--text-light);">${message}</p>
            `;

        document.body.appendChild(notification);

        // Show notification
        setTimeout(() => notification.classList.add("show"), 100);

        // Hide and remove notification
        setTimeout(() => {
          notification.classList.remove("show");
          setTimeout(() => document.body.removeChild(notification), 300);
        }, 3000);
      }

      function formatDate(dateString) {
        const date = new Date(dateString);
        return date.toLocaleDateString("id-ID", {
          year: "numeric",
          month: "2-digit",
          day: "2-digit",
          hour: "2-digit",
          minute: "2-digit",
        });
      }

      // Add cart button to navbar
      function addCartButton() {
        const cartBtn = document.createElement("button");
        cartBtn.className = "notification-btn";
        cartBtn.innerHTML = `
                <i class="fas fa-shopping-cart"></i>
                <span class="notification-badge" id="cartBadge">0</span>
            `;
        cartBtn.onclick = showCart;

        const navbarRight = document.querySelector(".navbar-right");
        navbarRight.insertBefore(cartBtn, document.getElementById("userMenu"));
      }

      // Update cart badge
      function updateCartBadge() {
        const badge = document.getElementById("cartBadge");
        if (badge) {
          const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
          badge.textContent = totalItems;
          badge.style.display = totalItems > 0 ? "flex" : "none";
        }
      }

      // Add notification click handler
      document
        .getElementById("notificationBtn")
        .addEventListener("click", () => {
          showNotification(
            "Selamat datang Di Armindo CAFE! Nikmati diskon spesial hari ini.",
            "discount"
          );
        });

      // Initialize
      function init() {
        // Set initial guest mode
        document.body.classList.add("guest-mode");
        updateSidebarVisibility();

        document.querySelectorAll(".menu-item").forEach((item) => {
          item.classList.remove("active");
        });
        document.querySelector('[data-section="home"]').classList.add("active");

        // Set initial desktop sidebar state
        if (window.innerWidth > 768) {
          const mainContent = document.querySelector(".main-content");
          const navbar = document.querySelector(".navbar");
          // Sidebar expanded by default on desktop
          mainContent.classList.remove("collapsed");
          navbar.classList.remove("collapsed");
        }

        // Add cart button
        addCartButton();

        // Show menu section by default
        showSection("home");

        // Load initial data
        updateDashboardStats();
        loadRecentOrders();
        filteredMenuItems = [...menuItems];

        // Show welcome notification after a short delay
        setTimeout(() => {
          showNotification(
            "Selamat datang di Armindo Cafe! Silakan login untuk mengakses fitur lengkap.",
            "info"
          );
        }, 1000);

        // Simulate some visitor activity
        setInterval(() => {
          visitorsCount += Math.floor(Math.random() * 3);
          if (
            isAdmin &&
            document
              .getElementById("dashboard-section")
              .classList.contains("active")
          ) {
            updateDashboardStats();
          }
        }, 30000);

        // Handle initial window size
        handleWindowResize();
      }
      // Override cart update to also update badge
      const originalUpdateCartDisplay = updateCartDisplay;
      updateCartDisplay = function () {
        originalUpdateCartDisplay();
        updateCartBadge();
      };

      // Event Listeners
      hamburger.addEventListener("click", toggleSidebar);
      overlay.addEventListener("click", closeSidebar);
      document.getElementById("cartClose").addEventListener("click", closeCart);
      document.getElementById("authClose").addEventListener("click", closeAuth);
      themeToggle.addEventListener("click", toggleTheme);
      userMenu.addEventListener("click", handleUserMenuClick);

      // Close modal when clicking outside the form
      authModal.addEventListener("click", (e) => {
        if (e.target === authModal) {
          closeAuth();
        }
      });

      // Close modal with Escape key
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          if (authModal.classList.contains("active")) {
            closeAuth();
          }
          if (cartSidebar.classList.contains("active")) {
            closeCart();
          }
        }
      });

      function animateCounters() {
        const counters = document.querySelectorAll(".stat-number");

        counters.forEach((counter) => {
          const target = parseInt(counter.getAttribute("data-target"));
          const increment = target / 100;
          let current = 0;

          const timer = setInterval(() => {
            current += increment;
            counter.textContent = Math.floor(current);

            if (current >= target) {
              counter.textContent = target;
              clearInterval(timer);
            }
          }, 20);
        });
      }

      // Load featured menu items
      function loadFeaturedMenu() {
        const featuredGrid = document.getElementById("featuredMenuGrid");

        // Get top 3 most sold items
        const featuredItems = menuItems
          .sort((a, b) => (b.sold || 0) - (a.sold || 0))
          .slice(0, 3);

        featuredGrid.innerHTML = featuredItems
          .map((item) => {
            const discountedPrice =
              item.discount > 0
                ? item.price - (item.price * item.discount) / 100
                : item.price;
            return `
            <div class="featured-menu-card">
                ${
                  item.discount > 0
                    ? `<div class="featured-menu-badge">-${item.discount}%</div>`
                    : ""
                }
                <img src="${item.image}" alt="${
              item.name
            }" class="featured-menu-image">
                <div class="featured-menu-content">
                    <div class="menu-title">${item.name}</div>
                    <div class="menu-description">${item.description}</div>
                    <div class="menu-footer">
                        <div>
                            ${
                              item.discount > 0
                                ? `<div class="menu-price discounted">Rp ${item.price.toLocaleString()}</div>
                                 <div class="discount-price">Rp ${discountedPrice.toLocaleString()}</div>`
                                : `<div class="menu-price">Rp ${item.price.toLocaleString()}</div>`
                            }
                        </div>
                        <button class="add-to-cart" onclick="addToCart(${
                          item.id
                        })">
                            <i class="fas fa-plus"></i> Tambah
                        </button>
                    </div>
                </div>
            </div>
        `;
          })
          .join("");
      }

      // Intersection Observer for animations
      function initScrollAnimations() {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              if (entry.target.classList.contains("stats-section")) {
                animateCounters();
              }
            }
          });
        });

        const statsSection = document.querySelector(".stats-section");
        if (statsSection) {
          observer.observe(statsSection);
        }
      }

      function checkout() {
        if (cart.length === 0) return;

        const subtotal = cart.reduce((sum, item) => {
          const discountedPrice =
            item.discount > 0
              ? item.price - (item.price * item.discount) / 100
              : item.price;
          return sum + discountedPrice * item.quantity;
        }, 0);

        const tax = subtotal * 0.1; // 10% tax
        const total = Math.round(subtotal + tax);

        // Store order data
        currentOrderData = {
          items: [...cart],
          subtotal: subtotal,
          tax: tax,
          total: total,
          customerName: currentUser.name,
          orderNumber: `INV-${Date.now()}`,
          date: new Date(),
        };

        // Show payment modal
        showPaymentModal(total);
      }

      // Show Payment Modal
      function showPaymentModal(total) {
        document.getElementById(
          "paymentTotal"
        ).textContent = `Total: Rp ${total.toLocaleString()}`;
        paymentModal.classList.add("active");
      }

      // Close Payment Modal
      function closePaymentModal() {
        paymentModal.classList.remove("active");
      }

      // Select Payment Method
      function selectPaymentMethod(method) {
        currentPaymentMethod = method;
        closePaymentModal();

        switch (method) {
          case "qris":
            showQrisModal();
            break;
          case "dana":
            showDanaModal();
            break;
          case "cash":
            showCashModal();
            break;
        }
      }

      // QRIS Modal Functions
      function showQrisModal() {
        document.getElementById(
          "qrisTotal"
        ).textContent = `Total: Rp ${currentOrderData.total.toLocaleString()}`;
        qrisModal.classList.add("active");
      }

      function closeQrisModal() {
        qrisModal.classList.remove("active");
      }

      // DANA Modal Functions
      function showDanaModal() {
        document.getElementById(
          "danaTotal"
        ).textContent = `Total: Rp ${currentOrderData.total.toLocaleString()}`;
        danaModal.classList.add("active");
      }

      function closeDanaModal() {
        danaModal.classList.remove("active");
      }

      function openDANATransfer() {
        // Create WhatsApp message for DANA transfer
        const message =
          `Halo, saya ingin transfer DANA untuk pesanan Armindo Cafe:%0A%0A` +
          `Nomor Pesanan: ${currentOrderData.orderNumber}%0A` +
          `Total: Rp ${currentOrderData.total.toLocaleString()}%0A%0A` +
          `Mohon konfirmasi setelah transfer berhasil. Terima kasih!`;

        window.open(`https://wa.me/6283813660206?text=${message}`, "_blank");
      }

      // Cash Modal Functions
      function showCashModal() {
        document.getElementById(
          "cashTotal"
        ).textContent = `Total: Rp ${currentOrderData.total.toLocaleString()}`;
        cashModal.classList.add("active");
      }

      function closeCashModal() {
        cashModal.classList.remove("active");
      }

      function confirmPayment(method) {
        // Close current modal
        switch (method) {
          case "qris":
            closeQrisModal();
            break;
          case "dana":
            closeDanaModal();
            break;
          case "cash":
            closeCashModal();
            break;
        }

        // Show confirmation dialog for QRIS only (karena butuh upload bukti)
        if (method === "qris") {
          const fileInput = document.getElementById("qrisProofUpload");
          if (!fileInput.files[0]) {
            alert("Silakan upload bukti transfer terlebih dahulu!");
            showQrisModal();
            return;
          }

          const confirmed = confirm(
            "Apakah Anda sudah menyelesaikan pembayaran QRIS dan bukti transfer sudah benar?"
          );
          if (!confirmed) {
            showQrisModal();
            return;
          }
        }
        processPaymentPending(method);
      }

      // Process Payment dengan status pending
      function processPaymentPending(method) {
        // Create order dengan status pending
        const newOrder = {
          id: orders.length + 1,
          orderNumber: currentOrderData.orderNumber,
          customerName: currentOrderData.customerName,
          items: currentOrderData.items.map(
            (item) => `${item.name} (${item.quantity}x)`
          ),
          itemDetails: currentOrderData.items,
          subtotal: currentOrderData.subtotal,
          tax: currentOrderData.tax,
          total: currentOrderData.total,
          paymentMethod: method,
          time: new Date().toISOString().replace("T", " ").substring(0, 19),
          status: "pending", // SEMUA payment jadi pending
          date: currentOrderData.date,
          proofUploaded:
            method === "qris"
              ? currentOrderData.proofImage
                ? true
                : false
              : true,
          proofImage: currentOrderData.proofImage || null,
          proofFileName: currentOrderData.proofFileName || null,
          adminConfirmed: false, // Butuh konfirmasi admin
        };

        // Add to orders
        orders.unshift(newOrder);

        // Update menu sold counts
        currentOrderData.items.forEach((cartItem) => {
          const menuItem = menuItems.find((m) => m.id === cartItem.id);
          if (menuItem) {
            menuItem.sold = (menuItem.sold || 0) + cartItem.quantity;
          }
        });

        showReceipt(newOrder);

        cart = [];
        updateCartDisplay();
        closeCart();

        updateDashboardStats();
      }

      // Show Receipt
      function showReceipt(order) {
        const receiptContent = document.getElementById("receiptContent");

        const paymentMethodNames = {
          qris: "QRIS",
          dana: "DANA",
          cash: "Tunai",
        };

        let statusText = "MENUNGGU KONFIRMASI ADMIN";
        let statusColor = "var(--warning-color)";
        if (order.status === "completed") {
          statusText = "LUNAS";
          statusColor = "var(--success-color)";
        }

        receiptContent.innerHTML = `
        <div style="border-bottom: 2px dashed #ddd; padding-bottom: 15px; margin-bottom: 15px;">
            <div class="receipt-item">
                <span>No. Pesanan:</span>
                <span>${order.orderNumber}</span>
            </div>
            <div class="receipt-item">
                <span>Tanggal:</span>
                <span>${formatDate(order.time)}</span>
            </div>
            <div class="receipt-item">
                <span>Pelanggan:</span>
                <span>${order.customerName}</span>
            </div>
            <div class="receipt-item">
                <span>Metode Bayar:</span>
                <span>${paymentMethodNames[order.paymentMethod]}</span>
            </div>
        </div>

        <div style="margin-bottom: 15px;">
            <strong style="color: var(--text-light);">Detail Pesanan:</strong>
            ${order.itemDetails
              .map((item) => {
                const discountedPrice =
                  item.discount > 0
                    ? item.price - (item.price * item.discount) / 100
                    : item.price;
                const totalItemPrice = discountedPrice * item.quantity;
                return `
                    <div class="receipt-item">
                        <div>
                            <div>${item.name}</div>
                            <small style="color: #7f8c8d;">${
                              item.quantity
                            }x @ Rp ${discountedPrice.toLocaleString()}</small>
                        </div>
                        <span>Rp ${totalItemPrice.toLocaleString()}</span>
                    </div>
                `;
              })
              .join("")}
        </div>

        <div style="border-top: 2px dashed #ddd; padding-top: 15px;">
            <div class="receipt-total">
                <span>Subtotal:</span>
                <span>Rp ${order.subtotal.toLocaleString()}</span>
            </div>
            <div class="receipt-total">
                <span>Pajak (10%):</span>
                <span>Rp ${order.tax.toLocaleString()}</span>
            </div>
            <div class="receipt-total final">
                <span>TOTAL:</span>
                <span>Rp ${order.total.toLocaleString()}</span>
            </div>
        </div>

        <div class="payment-status pending" style="margin-top: 20px;">
          <i class="fas fa-clock"></i>
          <strong>Status: ${statusText}</strong>
          <br><small>
            ${
              order.paymentMethod === "qris" && !order.proofUploaded
                ? "Upload bukti transfer terlebih dahulu"
                : "Menunggu konfirmasi dari admin yang bertugas"
            }
          </small>
        </div>

        <div style="text-align: center; margin-top: 20px; padding-top: 15px; border-top: 2px dashed #ddd; color: #7f8c8d; font-size: 12px;">
            <p>Terima kasih telah memesan di Armindo Cafe!</p>
            <p>Jl. Mangga Besar VIII No. 15A, Jakarta Barat</p>
            <p>WhatsApp: +62 838 1366 0206</p>
        </div>
        `;

        receiptModal.classList.add("active");

        // Show success notification
        const paymentMethodText = paymentMethodNames[order.paymentMethod];
        const message = `Pesanan berhasil dibuat! Menunggu konfirmasi admin untuk pembayaran via ${paymentMethodText}.`;

        setTimeout(() => {
          showNotification(message, "success");
        }, 500);
      }

      // Print Receipt
      function printReceipt() {
        window.print();
      }

      // Close Receipt Modal
      function closeReceiptModal() {
        receiptModal.classList.remove("active");

        // Navigate back to appropriate section
        if (isAdmin) {
          showSection("orders");
        } else {
          showSection("menu");
        }
      }

      // Close modal when clicking outside
      [paymentModal, qrisModal, danaModal, cashModal, receiptModal].forEach(
        (modal) => {
          modal.addEventListener("click", (e) => {
            if (e.target === modal) {
              modal.classList.remove("active");
            }
          });
        }
      );

      // Keyboard event listeners
      document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
          if (paymentModal.classList.contains("active")) {
            closePaymentModal();
          }
          if (qrisModal.classList.contains("active")) {
            closeQrisModal();
          }
          if (danaModal.classList.contains("active")) {
            closeDanaModal();
          }
          if (cashModal.classList.contains("active")) {
            closeCashModal();
          }
          if (receiptModal.classList.contains("active")) {
            closeReceiptModal();
          }
        }
      });

      // Admin functions untuk konfirmasi pesanan
      function confirmOrder(orderId) {
        const order = orders.find((o) => o.id === orderId);
        if (!order) return;

        const confirmed = confirm(
          `Konfirmasi pembayaran pesanan ${order.orderNumber} dari ${order.customerName}?`
        );
        if (!confirmed) return;

        // Update order status
        order.status = "completed";
        order.adminConfirmed = true;
        order.confirmedBy = currentUser?.name || "Admin";
        order.confirmedAt = new Date()
          .toISOString()
          .replace("T", " ")
          .substring(0, 19);

        // Reload orders
        loadAllOrders();

        showNotification(
          `Pesanan ${order.orderNumber} berhasil dikonfirmasi!`,
          "success"
        );
      }

      function rejectOrder(orderId) {
        const order = orders.find((o) => o.id === orderId);
        if (!order) return;

        const reason = prompt("Alasan penolakan pesanan:");
        if (!reason) return;

        const confirmed = confirm(
          `Yakin ingin menolak pesanan ${order.orderNumber}?`
        );
        if (!confirmed) return;

        // Update order status
        order.status = "rejected";
        order.rejectionReason = reason;
        order.rejectedBy = currentUser?.name || "Admin";
        order.rejectedAt = new Date()
          .toISOString()
          .replace("T", " ")
          .substring(0, 19);

        // Reload orders
        loadAllOrders();

        showNotification(
          `Pesanan ${order.orderNumber} ditolak: ${reason}`,
          "info"
        );
      }

      function viewProof(orderId) {
        const order = orders.find((o) => o.id === orderId);
        if (!order) return;

        if (!order.proofImage) {
          alert("Belum ada bukti transfer yang diupload untuk pesanan ini.");
          return;
        }

        // Buat modal untuk menampilkan bukti transfer
        const proofModal = document.createElement("div");
        proofModal.className = "auth-modal";
        proofModal.style.display = "flex";
        proofModal.style.opacity = "1";
        proofModal.style.visibility = "visible";

        proofModal.innerHTML = `
          <div class="auth-form" style="max-width: 500px; text-align: center;">
            <button class="auth-close" onclick="this.closest('.auth-modal').remove()">
              <i class="fas fa-times"></i>
            </button>
            <h2>Bukti Transfer</h2>
            <div style="margin-bottom: 20px;">
              <strong>Pesanan:</strong> ${order.orderNumber}<br>
              <strong>Pelanggan:</strong> ${order.customerName}<br>
              <strong>Total:</strong> Rp ${order.total.toLocaleString()}<br>
              <strong>File:</strong> ${order.proofFileName}
            </div>
            <div style="border: 2px solid #ddd; border-radius: 10px; padding: 10px; background: #f9f9f9;">
              <img src="${order.proofImage}" alt="Bukti Transfer" 
                   style="max-width: 100%; max-height: 400px; border-radius: 8px;">
            </div>
            <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: center;">
              <button class="admin-btn success" onclick="confirmOrderFromProof(${
                order.id
              }); this.closest('.auth-modal').remove();">
                <i class="fas fa-check"></i> Konfirmasi Pesanan
              </button>
              <button class="admin-btn danger" onclick="rejectOrderFromProof(${
                order.id
              }); this.closest('.auth-modal').remove();">
                <i class="fas fa-times"></i> Tolak Pesanan
              </button>
            </div>
          </div>
        `;

        document.body.appendChild(proofModal);

        function confirmOrderFromProof(orderId) {
          confirmOrder(orderId);
        }

        function rejectOrderFromProof(orderId) {
          rejectOrder(orderId);
        }

        // Mark proof as viewed
        if (!order.proofViewed) {
          order.proofViewed = true;
          order.proofViewedAt = new Date()
            .toISOString()
            .replace("T", " ")
            .substring(0, 19);
        }
      }

      // Start the application
      init();
    </script>
  </body>
</html>
